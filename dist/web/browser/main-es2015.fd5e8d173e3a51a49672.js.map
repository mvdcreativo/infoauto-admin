{"version":3,"sources":["webpack:///src/app/auth/user-actions/user-actions.component.html","webpack:///src/app/auth/user-actions/user-actions.component.ts","webpack:///src/environments/environment.ts","webpack:///src/app/shared/material/material.module.ts","webpack:///src/app/shared/snack-bar/snack-bar.component.ts","webpack:///src/app/shared/snack-bar/snack-bar.component.html","webpack:///src/app/web/admin/setting-api/services/setting-api.service.ts","webpack:///src/app/auth/auth.service.ts","webpack:///src/app/auth/guards/auth.guard.ts","webpack:///src/app/web/admin/ventas/vender/vender.component.ts","webpack:///src/app/web/admin/ventas/vender/vender.component.html","webpack:///src/app/web/admin/ventas/services/publish.service.ts","webpack:///src/app/web/admin/ventas/vender/steps/step1/step1.component.html","webpack:///src/app/web/admin/ventas/vender/steps/step1/step1.component.ts","webpack:///src/app/shared/checkbox-group/CheckboxItem.ts","webpack:///src/app/shared/checkbox-group/checkbox-group.component.html","webpack:///src/app/shared/checkbox-group/checkbox-group.component.ts","webpack:///src/app/web/admin/ventas/vender/steps/step2/step2.component.html","webpack:///src/app/web/admin/ventas/vender/steps/step2/step2.component.ts","webpack:///src/app/web/admin/ventas/vender/steps/step3/images-drag-drop/images-drag-drop.component.html","webpack:///src/app/web/admin/ventas/vender/steps/step3/images-drag-drop/images-drag-drop.component.ts","webpack:///src/app/web/admin/ventas/vender/steps/step3/step3.component.html","webpack:///src/app/web/admin/ventas/vender/steps/step3/step3.component.ts","webpack:///src/app/web/admin/ventas/vender/steps/step4/step4.component.html","webpack:///src/app/web/admin/ventas/vender/steps/step4/step4.component.ts","webpack:///src/app/web/admin/ventas/vender/steps/step5/step5.component.ts","webpack:///src/app/web/admin/ventas/vender/steps/step5/step5.component.html","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/auth/helpers/auth.interceptor.ts","webpack:///src/app/auth/helpers/index-auth.interceptor.ts","webpack:///src/app/auth/helpers/error.interceptor.ts","webpack:///src/app/app.module.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["UserActionsComponent","_authService","router","rutaActiva","color","this","url","subscribe","data","returnUrl","currentUser","user","console","log","navigate","queryParams","logout","res","menuTrigger","closeMenu","environment","production","API","AuthAPI","urlFiles","MaterialModule","SnackBarComponent","SettingApiService","_http","_snackBar","get","pipe","take","post","id","delete","put","brand_id","model_id","estadoRes","message","classToast","openFromComponent","panelClass","verticalPosition","duration","durationSeconds","AuthService","http","errorSubject","currentUserSubject","JSON","parse","localStorage","getItem","asObservable","error$","value","credentials","token","setItem","stringify","next","removeItem","AuthGuard","authService","route","state","currentUserValue","error","VenderComponent","matIconRegistry","domSanitizer","config","suppressScrollX","addSvgIcon","bypassSecurityTrustResourceUrl","PublishService","activateRoute","publicationSubject$","BehaviorSubject","publication","publicationValue","Step","publicationId","nexStep","publicationID","files","index","formData","FormData","i","length","append","observe","reportProgress","map","d","imageID","products","Step1Component","_settingApiServises","_publishService","_fb","nameConcat","vehicle_model_id","vehicle_sub_model_id","precios","update","params","param","getPublicationById","getPublication","generaFormStep1","formStep1","selectModel","selectSubModel","setValue","user_id","vehicle_category_id","year","price","condition_id","km","currency_id","city_id","neighborhood_id","price_condition_id","group","required","selectCategory","selectBrand","selectAnos","selectCondition","selectPrecios","selectCurrency","selectPriceCondition","idToSlug","brands","models","subModels","name_concat","updatePublication","addPublication","campo","arrCampo","campoSlug","filter","item","name","e","categoryId","undefined","patchValue","brandId","modelId","getCategory","category","categories","getBrands","getModelsByIDBrand","vehicle_models","getSubModelByModelId","veicle_sub_models","conditions","getCondition","enable","controls","setValidators","disable","arrprecios","Array","push","anos","anoAct","Date","getFullYear","reverse","currencies","getCurrencies","priceConditions","getPriceConditions","submitStep1","changeBrand","changeModel","onConditionChanged","CheckboxItem","label","checked","CheckboxGroupComponent","options","selectedValues","toggle","form","items","valueChanges","optionsChecked","toString","emit","forEach","findIndex","opt","x","Step2Component","groupCheckbox","selectAttributes","selectValues","attributes","flat","udatePublication","getAttributes","attr","attrCheckboxes","attrCheckboxesChildren","title","multi_option","event","valores","a","publicationAttributes","find","b","v","ImagesDragDropComponent","showDelete","images","previousIndex","currentIndex","imagePosition","position","updateImage","target","uploadProductImage","type","Response","body","UploadProgress","percentDone","Math","round","loaded","total","progress","removeImageId","uploadImage","drop","Step3Component","btnDisabled","Step4Component","selectExtras","formStep3","description","maxLength","extras","getExtras","checkboxes","publicationExtras","generaFormStep3","Step5Component","routes","path","loadChildren","then","m","AdminModule","canActivate","AuthModule","component","children","PagesModule","AppRoutingModule","forRoot","initialNavigation","AppComponent","AuthInterceptor","req","requestUrl","split","apiUrl","handle","headers","set","authReq","clone","indexAuthInterceptor","provide","useClass","multi","ErrorInterceptor","request","catchError","err","status","statusText","throwError","DEFAULT_PERFECT_SCROLLBAR_CONFIG","AppModule","useValue","withServerTransition","appId","document","addEventListener","bootstrapModule","catch","webpackEmptyAsyncContext","Promise","resolve","Error","code","keys","module","exports"],"mappings":"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","file":"x","sourcesContent":["<ng-container *ngIf=\"currentUser; then loged; else noLoged\"></ng-container>\r\n\r\n<ng-template #loged>\r\n    <div class=\"user\" [ngStyle]=\"{'color': color}\">\r\n        <a class=\"account\" [ngStyle]=\"{'color': color}\" \r\n            [matMenuTriggerFor]=\"menu\" \r\n            (mouseenter)=\"menuTrigger.openMenu()\"\r\n            #menuTrigger=\"matMenuTrigger\"\r\n            >\r\n            Mi cuenta\r\n        </a>\r\n        <a class=\"menu-user\" [ngStyle]=\"{'color': color}\" aria-label=\"\">\r\n            <span>{{ currentUser.name }}</span>\r\n            <i class=\"material-icons\">person</i>\r\n        </a>\r\n        <mat-menu [overlapTrigger]=\"false\" #menu=\"matMenu\">\r\n            <span (mouseleave)=\"menuTrigger.closeMenu()\">\r\n                <button mat-menu-item [routerLink]=\"[ '/mi-cuenta/ventas/publicaciones' ]\">\r\n                    <mat-icon>art_track</mat-icon>\r\n                    <span>Publicaciones</span>\r\n                </button>\r\n                <button mat-menu-item>\r\n                    <mat-icon>favorite_border</mat-icon>\r\n                    <span>Favoritos</span>\r\n                </button>\r\n                <button mat-menu-item>\r\n                    <mat-icon>person_pin</mat-icon>\r\n                    <span>Mis Datos</span>\r\n                </button>\r\n                <button mat-menu-item (click)=\"logout()\">\r\n                    <mat-icon>exit_to_app</mat-icon>\r\n                    <span>Salir</span>\r\n                </button>\r\n            </span>\r\n\r\n        </mat-menu>\r\n    </div>\r\n</ng-template>\r\n\r\n<ng-template #noLoged>\r\n    <div class=\"user\">\r\n        <span></span>\r\n        <span>\r\n            <a mat-button class=\"login\" (click)=\"login()\" [ngStyle]=\"{'color': color}\">Entrar</a>\r\n            <a mat-button href=\"#\" class=\"register btn-primary\">Registrarse</a>\r\n        </span>\r\n    </div>\r\n</ng-template>","import { Component, OnInit, Input } from '@angular/core';\r\n// import {MatDialog} from '@angular/material/dialog';\r\nimport { AuthService } from '../auth.service';\r\nimport { User, CurrentUser } from 'src/app/interfaces/user';\r\nimport { ActivatedRoute, Router, Params } from '@angular/router';\r\nimport { LoginComponent } from '../login/login.component';\r\nimport { MatMenuTrigger } from '@angular/material/menu';\r\n// import { ModalAuthComponent } from '../modal-auth/modal-auth.component';\r\n\r\n@Component({\r\n  selector: 'user-actions-component',\r\n  templateUrl: './user-actions.component.html',\r\n  styleUrls: ['./user-actions.component.scss']\r\n})\r\nexport class UserActionsComponent implements OnInit {\r\n\r\n  @Input('color') color: string = \"#424242\";\r\n  currentUser: User;\r\n  returnUrl: Params;\r\n  menuTrigger: MatMenuTrigger;\r\n  \r\n  \r\n  constructor(\r\n    private _authService : AuthService,\r\n    private router: Router,\r\n    private rutaActiva: ActivatedRoute,\r\n    // public dialog: MatDialog\r\n  ) { }\r\n\r\n  // openDialog(): void {\r\n  //   const dialogRef = this.dialog.open(ModalAuthComponent, {\r\n  //     width: '40%',\r\n  //     // data: {name: this.name, animal: this.animal}\r\n  //   });\r\n\r\n  //   dialogRef.afterClosed().subscribe(result => {\r\n  //     console.log('The dialog was closed');\r\n  //     this.animal = result;\r\n  //   });\r\n  // }\r\n\r\n\r\n  ngOnInit() {\r\n    this.rutaActiva.url.subscribe(\r\n      data =>{\r\n        this.returnUrl = data\r\n      }\r\n    )\r\n    this._authService.currentUser.subscribe(\r\n      (data:any) => {\r\n        if(data) {\r\n          this.currentUser = data.user\r\n        }else{\r\n          this.currentUser = null\r\n        }\r\n      }\r\n    );\r\n    console.log(this.currentUser);\r\n    \r\n  }\r\n\r\n  public login(){\r\n    this.router.navigate(['/login'], { queryParams: { returnUrl: this.returnUrl } })\r\n  }\r\n  public logout(){\r\n    console.log(\"logout\");\r\n    \r\n    return this._authService.logout().subscribe(\r\n      res => console.log(res)\r\n      \r\n    );\r\n  }\r\n\r\n  linkAccound(){\r\n    this.menuTrigger.closeMenu()\r\n    this.router.navigate(['/mi-cuenta']);\r\n\r\n  }\r\n\r\n}\r\n","export const environment = {\r\n  production: true,\r\n  API: 'https://api.infoauto.com.uy/api/',\r\n  AuthAPI: 'https://api.infoauto.com.uy/api/auth/',\r\n  urlFiles: 'https://api.infoauto.com.uy/storage/'\r\n};\r\n","import {NgModule} from '@angular/core';\r\nimport {A11yModule} from '@angular/cdk/a11y';\r\nimport {ClipboardModule} from '@angular/cdk/clipboard';\r\nimport {DragDropModule} from '@angular/cdk/drag-drop';\r\nimport {PortalModule} from '@angular/cdk/portal';\r\nimport {ScrollingModule} from '@angular/cdk/scrolling';\r\nimport {CdkStepperModule} from '@angular/cdk/stepper';\r\nimport {CdkTableModule} from '@angular/cdk/table';\r\nimport {CdkTreeModule} from '@angular/cdk/tree';\r\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\r\nimport {MatBadgeModule} from '@angular/material/badge';\r\nimport {MatBottomSheetModule} from '@angular/material/bottom-sheet';\r\nimport {MatButtonModule} from '@angular/material/button';\r\nimport {MatButtonToggleModule} from '@angular/material/button-toggle';\r\nimport {MatCardModule} from '@angular/material/card';\r\nimport {MatCheckboxModule} from '@angular/material/checkbox';\r\nimport {MatChipsModule} from '@angular/material/chips';\r\nimport {MatStepperModule} from '@angular/material/stepper';\r\nimport {MatDatepickerModule} from '@angular/material/datepicker';\r\nimport {MatDialogModule} from '@angular/material/dialog';\r\nimport {MatDividerModule} from '@angular/material/divider';\r\nimport {MatExpansionModule} from '@angular/material/expansion';\r\nimport {MatGridListModule} from '@angular/material/grid-list';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatListModule} from '@angular/material/list';\r\nimport {MatMenuModule} from '@angular/material/menu';\r\nimport {MatNativeDateModule, MatRippleModule} from '@angular/material/core';\r\nimport {MatPaginatorModule} from '@angular/material/paginator';\r\nimport {MatProgressBarModule} from '@angular/material/progress-bar';\r\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\r\nimport {MatRadioModule} from '@angular/material/radio';\r\nimport {MatSelectModule} from '@angular/material/select';\r\nimport {MatSidenavModule} from '@angular/material/sidenav';\r\nimport {MatSliderModule} from '@angular/material/slider';\r\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\r\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\r\nimport {MatSortModule} from '@angular/material/sort';\r\nimport {MatTableModule} from '@angular/material/table';\r\nimport {MatTabsModule} from '@angular/material/tabs';\r\nimport {MatToolbarModule} from '@angular/material/toolbar';\r\nimport {MatTooltipModule} from '@angular/material/tooltip';\r\nimport {MatTreeModule} from '@angular/material/tree';\r\n\r\n@NgModule({\r\n  exports: [\r\n    A11yModule,\r\n    ClipboardModule,\r\n    CdkStepperModule,\r\n    CdkTableModule,\r\n    CdkTreeModule,\r\n    DragDropModule,\r\n    MatAutocompleteModule,\r\n    MatBadgeModule,\r\n    MatBottomSheetModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatChipsModule,\r\n    MatStepperModule,\r\n    MatDatepickerModule,\r\n    MatDialogModule,\r\n    MatDividerModule,\r\n    MatExpansionModule,\r\n    MatGridListModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatListModule,\r\n    MatMenuModule,\r\n    MatNativeDateModule,\r\n    MatPaginatorModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatRippleModule,\r\n    MatSelectModule,\r\n    MatSidenavModule,\r\n    MatSliderModule,\r\n    MatSlideToggleModule,\r\n    MatSnackBarModule,\r\n    MatSortModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    MatTooltipModule,\r\n    MatTreeModule,\r\n    PortalModule,\r\n    ScrollingModule,\r\n  ]\r\n})\r\nexport class MaterialModule { }\r\n","import { Component, Input, Inject } from '@angular/core';\r\nimport {MAT_SNACK_BAR_DATA} from '@angular/material/snack-bar';\r\n\r\n\r\n@Component({\r\n  selector: 'app-snack-bar',\r\n  templateUrl: './snack-bar.component.html',\r\n  styleUrls: ['./snack-bar.component.scss']\r\n})\r\nexport class SnackBarComponent {\r\n  \r\n    constructor(\r\n      @Inject(MAT_SNACK_BAR_DATA) public data: any\r\n      ) { }\r\n  \r\n\r\n}\r\n","<span class=\"snack-bar\">\r\n    <p>{{ data }}</p>\r\n</span>","import { map, take } from 'rxjs/operators';\r\nimport { environment } from '../../../../../environments/environment';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Brand, VehicleCategory, VehicleModel, VehicleSubModel } from 'src/app/interfaces/resultado';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Attributes, Extras } from 'src/app/interfaces/product';\r\nimport { SnackBarComponent } from 'src/app/shared/snack-bar/snack-bar.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SettingApiService {\r\n\r\n  constructor(\r\n    private _http: HttpClient,\r\n    private _snackBar: MatSnackBar\r\n\r\n  ) {\r\n\r\n  }\r\n\r\n  //categoias\r\n  getCategory() {\r\n    return this._http.get<VehicleCategory>(`${environment.API}category`).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n  addCategory(data) {\r\n    return this._http.post<VehicleCategory>(`${environment.API}category`, data).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n\r\n  deleteCategory(id) {\r\n    return this._http.delete<VehicleCategory>(`${environment.API}category/${id}`).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n\r\n  updateCategory(id, data){\r\n    return this._http.put<VehicleCategory>(`${environment.API}category/${id}`, data).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n  ////\r\n\r\n  ///Brands\r\n  getBrands() {\r\n    return this._http.get<Brand[]>(`${environment.API}brand`).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n\r\n  addBrand(data) {\r\n    return this._http.post<Brand>(`${environment.API}brand`, data).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n\r\n  deleteBrand(id) {\r\n    return this._http.delete<Brand>(`${environment.API}brand/${id}`).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n  updateBrand(id, data){\r\n    return this._http.post<Brand>(`${environment.API}brand/${id}`, data).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n  /////\r\n\r\n  //////Models\r\n  getModels() {\r\n    return this._http.get<VehicleModel>(`${environment.API}vehicle-model-all`)\r\n  }\r\n\r\n  getModelsByIDBrand(brand_id: number) {\r\n    return this._http.get<VehicleModel>(`${environment.API}brand/${brand_id}`)\r\n  }\r\n\r\n  addModel(data) {\r\n    return this._http.post<VehicleModel>(`${environment.API}vehicle-model`, data).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n\r\n  deleteModel(id) {\r\n    return this._http.delete<VehicleModel>(`${environment.API}vehicle-model/${id}`).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n\r\n  updateModel(id, data){\r\n    return this._http.put<VehicleModel>(`${environment.API}vehicle-model/${id}`, data).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n\r\n  ///// Sub Modelos\r\n  getSubModel() {\r\n    return this._http.get<VehicleSubModel>(`${environment.API}vehicle-sub-model`)\r\n  }\r\n  getSubModelByModelId(model_id){\r\n    return this._http.get<VehicleModel>(`${environment.API}vehicle-model/${model_id}`)\r\n\r\n  }\r\n\r\n  addSubModel(data) {\r\n    return this._http.post<VehicleSubModel>(`${environment.API}vehicle-sub-model`, data).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n  deleteSubModel(id) {\r\n    return this._http.delete<VehicleSubModel>(`${environment.API}vehicle-sub-model/${id}`).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n\r\n  updateSubModel(id, data){\r\n    return this._http.put<VehicleSubModel>(`${environment.API}vehicle-sub-model/${id}`, data).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n//////\r\n\r\n\r\n/////Attributes\r\n\r\ngetAttributes() {\r\n  return this._http.get<Attributes>(`${environment.API}attributes`)\r\n}\r\n\r\naddAttribute(data) {\r\n  return this._http.post<Attributes>(`${environment.API}attributes`, data).pipe(\r\n    take(1)\r\n  )\r\n}\r\ndeleteAttribute(id) {\r\n  return this._http.delete<Attributes>(`${environment.API}attributes/${id}`).pipe(\r\n    take(1)\r\n  )\r\n}\r\n\r\n\r\n////////\r\n\r\n/////Extras\r\n\r\ngetExtras() {\r\n  return this._http.get<Extras>(`${environment.API}extras`)\r\n}\r\n\r\naddExtra(data) {\r\n  return this._http.post<Extras>(`${environment.API}extras`, data).pipe(\r\n    take(1)\r\n  )\r\n}\r\ndeleteExtra(id) {\r\n  return this._http.delete<Extras>(`${environment.API}extras/${id}`).pipe(\r\n    take(1)\r\n  )\r\n}\r\n\r\n\r\n////////\r\n\r\n/////Conditions\r\ngetCondition(){\r\n  return this._http.get<any>(`${environment.API}conditions`)\r\n\r\n}\r\n\r\n////////////////////\r\n\r\n/////Currencies\r\ngetCurrencies(){\r\n  return this._http.get<any>(`${environment.API}currency`)\r\n\r\n}\r\n\r\n////////////////////\r\n\r\n/////PriceCondition\r\ngetPriceConditions(){\r\n  return this._http.get<any>(`${environment.API}price-conditions`)\r\n\r\n}\r\n\r\n////////////////////\r\n  openSnackBar(estadoRes, message: string) {\r\n    let classToast: string;\r\n    switch (estadoRes) {\r\n      case \"success\":\r\n        classToast = \"toastSuccess\"\r\n        break;\r\n      case \"warn\":\r\n        classToast = \"toastWarn\"\r\n        break;\r\n      case \"error\":\r\n        classToast = \"toastError\"\r\n        break;\r\n\r\n      default:\r\n        classToast = \"toastError\"\r\n        break;\r\n    }\r\n\r\n    const durationSeconds = 5;\r\n    this._snackBar.openFromComponent(SnackBarComponent, {\r\n      data: message,\r\n      panelClass: [classToast],\r\n      verticalPosition: 'top',\r\n      duration: durationSeconds * 1000,\r\n    });\r\n  }\r\n}\r\n","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { User, CurrentUser } from '../interfaces/user';\r\nimport { Router } from '@angular/router';\r\nimport { map, tap, take } from 'rxjs/operators';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n\r\n  private currentUserSubject: BehaviorSubject<CurrentUser>;\r\n  public currentUser: Observable<CurrentUser>;\r\n  public errorSubject: BehaviorSubject<any> = new BehaviorSubject<any>(null)\r\n  public error$: Observable<any>;\r\n\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private http: HttpClient\r\n  ) {\r\n    this.currentUserSubject = new BehaviorSubject<CurrentUser>(JSON.parse(localStorage.getItem('currentUser')));\r\n    this.currentUser = this.currentUserSubject.asObservable();\r\n    this.error$ = this.errorSubject.asObservable();\r\n\r\n   }\r\n\r\n   public get errorValue(): any {\r\n    return this.errorSubject.value;\r\n  }\r\n\r\n  public get currentUserValue(): CurrentUser {\r\n    return this.currentUserSubject.value;\r\n  }\r\n\r\n  register(credentials: User): Observable<User> {\r\n    return this.http.post<User>(`${environment.API}auth/signup`, credentials)\r\n      .pipe(\r\n        map(user => {\r\n            console.log(user);\r\n\r\n            this.router.navigate(['login']);\r\n            // console.log(user);\r\n\r\n\r\n\r\n            return user;\r\n        }),\r\n      );\r\n  }\r\n\r\n\r\n\r\n  login(credentials: User): Observable<CurrentUser> {\r\n    return this.http.post<CurrentUser>(`${environment.API}auth/login`, credentials)\r\n    .pipe(\r\n      map(user => {\r\n          // login successful if there's a jwt token in the response\r\n          if (user && user.token) {\r\n              // store user details ands token in local storage to keep user logged in between page refreshes\r\n              localStorage.setItem('currentUser', JSON.stringify(user));\r\n              this.currentUserSubject.next(user);\r\n              // this.router.navigate(['admin'])\r\n              // console.log(user);\r\n\r\n          }\r\n\r\n          return user;\r\n      }),\r\n    );\r\n  }\r\n\r\n  logout() {\r\n    console.log('logoutService');\r\n\r\n    return this.http.get<any>(`${environment.API}auth/logout`)\r\n    .pipe(\r\n      map( res => {\r\n        console.log(res);\r\n        // remove user from local storage to log user out\r\n        localStorage.removeItem('currentUser');\r\n        this.currentUserSubject.next(null);\r\n        // this.router.navigate(['login']);\r\n      }),\r\n    );\r\n\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { AuthService } from '../auth.service';\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n  constructor(\r\n    private authService : AuthService,\r\n    private router : Router\r\n  ){}\r\n\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot): Observable<boolean> | boolean  {\r\n\r\n      const currentUser = this.authService.currentUserValue;\r\n      ///si es loged\r\n      if (currentUser) {\r\n        console.log('Logged');\r\n        \r\n         return true;\r\n      }\r\n      ///no logeado\r\n      console.error('No logeado');\r\n      \r\n      this.router.navigate(['/login'], { queryParams: { returnUrl: state.url } });\r\n      return false;\r\n      \r\n  }\r\n  \r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { PerfectScrollbarConfigInterface } from 'ngx-perfect-scrollbar';\r\nimport { MatIconRegistry } from '@angular/material/icon';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n\r\n@Component({\r\n  selector: 'vender',\r\n  templateUrl: './vender.component.html',\r\n  styleUrls: ['./vender.component.scss']\r\n})\r\nexport class VenderComponent implements OnInit {\r\n\r\n  public config: PerfectScrollbarConfigInterface = {\r\n    suppressScrollX : false,\r\n  };\r\n\r\n\r\n  constructor(\r\n    private matIconRegistry: MatIconRegistry,\r\n    private domSanitizer: DomSanitizer\r\n    ) { \r\n      this.matIconRegistry.addSvgIcon(\r\n        'step',\r\n        this.domSanitizer.bypassSecurityTrustResourceUrl('../../../../../assets/images/step.svg')\r\n      );\r\n    }\r\n    \r\n\r\n  ngOnInit() {   \r\n    \r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n","<div class=\"container\">\r\n    <div class=\"logo\">\r\n        <a [routerLink]=\"[ '/' ]\"><img src=\"../../../assets/images/logo.svg\" alt=\"\"></a>\r\n    </div>\r\n    <div class=\"user-actions\">\r\n        <user-actions-component [color] = \"'black'\"></user-actions-component>\r\n    </div>\r\n    <mat-card class=\"content\" [perfectScrollbar]=\"config\">\r\n        <mat-card-header>\r\n            <mat-card-title  class=\"header-box-ventas\">\r\n                <ul>\r\n                    <li><a [routerLink]=\"[ '/vender/step1/' ]\" routerLinkActive=\"active\"><span class=\"icon\">1</span><span class=\"text\">Selecciona un Vehículo</span></a></li>\r\n                    <li><a [routerLink]=\"[ '/vender/step2/' ]\" routerLinkActive=\"active\"><span class=\"icon\">2</span><span class=\"text\">Ficha Técnica</span></a></li>\r\n                    <li><a [routerLink]=\"[ '/vender/step3/' ]\" routerLinkActive=\"active\"><span class=\"icon\">3</span><span class=\"text\">Imágenes</span></a></li>\r\n                    <li><a [routerLink]=\"[ '/vender/step4/' ]\" routerLinkActive=\"active\"><span class=\"icon\">4</span><span class=\"text\">Datos extra del Vehículo</span></a></li>\r\n                    <li><a [routerLink]=\"[ '/vender/step5/' ]\" routerLinkActive=\"active\"><span class=\"icon\">5</span><span class=\"text\">Como quieres vender tu vehículo?</span></a></li>\r\n                </ul>\r\n\r\n            </mat-card-title>\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n            <router-outlet></router-outlet>\r\n        </mat-card-content>\r\n    </mat-card>\r\n\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { take, map } from 'rxjs/operators';\r\n\r\nimport { environment } from 'src/environments/environment';\r\nimport { Product } from '../../../../interfaces/product';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { Image } from 'src/app/interfaces/resultado';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PublishService {\r\n\r\n  public publicationSubject$: BehaviorSubject<Product> = new BehaviorSubject<Product>(null);\r\n  public publication: Observable<Product>;\r\n\r\n  constructor(\r\n    private _http: HttpClient,\r\n    private route: Router,\r\n    private activateRoute: ActivatedRoute\r\n  ) {\r\n\r\n    this.publication = this.publicationSubject$.asObservable();\r\n    console.log(this.publicationValue);\r\n    \r\n  }\r\n\r\n\r\n  public get publicationValue(): Product {\r\n    return this.publicationSubject$.value;\r\n  }\r\n\r\n  ////Recupera Publicación\r\n  getPublicationById(id:number){\r\n    return this._http.get<Product>(`${environment.API}product/${id}`).pipe(\r\n      take(1)\r\n    ).subscribe(\r\n      res =>{\r\n        this.publicationSubject$.next(res)\r\n        console.log(this.publicationValue);\r\n        \r\n      },\r\n      error => this.route.navigate(['/vender/step1'])\r\n    )\r\n  }\r\n\r\n\r\n  ///guarda primera vez publicación y queda como pendiente hasta el último Step\r\n  addPublication(data) {\r\n    return this._http.post<Product>(`${environment.API}product`, data).pipe(\r\n      take(1)\r\n    ).subscribe(\r\n      res => {\r\n        this.publicationSubject$.next(res)\r\n        console.log(res)\r\n        this.route.navigate(['/vender/step2', this.publicationValue.id ])\r\n      },\r\n      error => { console.log(error) }\r\n    )\r\n  }\r\n\r\n  ///Actualiza publicación con cada Step que la llama\r\n  updatePublication(data: Product, Step: string) {\r\n\r\n    const publicationId = this.publicationValue.id\r\n    const nexStep = `${Step}/${publicationId}`\r\n\r\n    return this._http.put<Product>(`${environment.API}product/${publicationId}`, data).pipe(\r\n      take(1)\r\n    ).subscribe(\r\n      res => {\r\n        this.publicationSubject$.next(res)\r\n        console.log(res)\r\n        this.route.navigate([nexStep])\r\n      },\r\n      error => { console.log(error) }\r\n    )\r\n  }\r\n\r\n\r\n  uploadProductImage(publicationID: number, files: FileList, index?: number) {\r\n\r\n    const formData = new FormData();\r\n    console.log(files);\r\n\r\n    for (let i = 0; i < files.length; i++) {\r\n      formData.append('images[]', files[i])\r\n      // formData.append(\"_method\", \"PUT\")\r\n    }\r\n\r\n    formData.append(\"_method\", \"PUT\")\r\n\r\n    return this._http.post(`${environment.API}product/${publicationID}`, formData, {\r\n      observe: 'events',\r\n      reportProgress: true\r\n    })\r\n  }\r\n\r\n  updateImage(data){\r\n    data.map(\r\n      d => this._http.put(`${environment.API}image/${d.id}`, d).pipe(take(1)).subscribe()\r\n    )\r\n  }\r\n\r\n  removeImageId(imageID) {\r\n    return this._http.delete<Image>(`${environment.API}image/${imageID}`)\r\n    .pipe(take(1))\r\n    .subscribe(\r\n      \r\n      res=> {\r\n        console.log(res);\r\n        this.publicationSubject$.next(res.products[0])\r\n      }\r\n    );\r\n  }\r\n  // getPublication(){\r\n  //   return\r\n  // }\r\n\r\n}\r\n","\r\n<mat-card class=\"container\">\r\n    <mat-card-header>\r\n        <mat-card-title>Paso 1 - Selecciona un Vehículo</mat-card-title>\r\n    </mat-card-header>\r\n        \r\n    <div class=\"container-ventas\">\r\n    <form class=\"form\" [formGroup]=\"formStep1\" (ngSubmit)=\"submitStep1()\">\r\n        <div class=\"content-form\">\r\n            <div class=\"searcher\">\r\n                <mat-form-field class=\"category\">\r\n                    <mat-label>Tipo Vehículo</mat-label>\r\n                    <mat-select formControlName=\"vehicle_category_id\" [(value)]=\"categoryId\">\r\n                        <mat-option *ngFor=\"let category of categories\" [value]='category.id'>\r\n                            {{ category.name }}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n        \r\n        \r\n                <mat-form-field class=\"brand\">\r\n                    <mat-label>Marca</mat-label>\r\n        \r\n                    <mat-select formControlName=\"brand_id\" (selectionChange)=\"changeBrand($event.value)\">\r\n                        <mat-option>Ninguna marca</mat-option>\r\n                        <mat-option *ngFor=\"let brand of brands\" [value]='brand.id'>{{ brand.name }}</mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n        \r\n                <mat-form-field class=\"model\">\r\n                    <mat-label>Modelo</mat-label>\r\n                    <mat-select formControlName=\"vehicle_model_id\" (selectionChange)=\"changeModel($event.value)\">\r\n                        <mat-option>Ningún modelo</mat-option>\r\n                        <mat-option *ngFor=\"let model of models\" [value]='model.id'>{{ model.name }}</mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n                <mat-form-field class=\"sub-model\">\r\n                    <mat-label>sub-Modelo</mat-label>\r\n                    <mat-select formControlName=\"vehicle_sub_model_id\">\r\n                        <mat-option>Ningún sub-Modelo</mat-option>\r\n                        <mat-option *ngFor=\"let subModel of subModels\" [value]='subModel.id'>{{ subModel.name }}</mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n                <mat-form-field class=\"year\">\r\n                    <mat-label>Año</mat-label>\r\n                    <mat-select formControlName=\"year\">\r\n                        <mat-option>Todos</mat-option>\r\n                        <mat-option *ngFor=\"let ano of anos\" [value]='ano.value'>{{ ano.option}}</mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n                <mat-form-field class=\"condition\">\r\n                    <mat-label>Condición</mat-label>\r\n                    <mat-select formControlName=\"condition_id\"  (selectionChange)= \"onConditionChanged($event)\">\r\n                        <mat-option>Todos</mat-option>\r\n                        <mat-option *ngFor=\"let condition of conditions | async\" [value]='condition.id'>{{ condition.name }}</mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>     \r\n                <mat-form-field class=\"recorrido\">\r\n                    <mat-label>km recorridos</mat-label>\r\n                    <input formControlName=\"km\" matInput>                 \r\n                </mat-form-field>\r\n                <mat-form-field class=\"price-condition\">\r\n                    <mat-label>Condición de Precio</mat-label>\r\n                    <mat-select formControlName=\"price_condition_id\">\r\n                        <mat-option>Todos</mat-option>\r\n                        <mat-option *ngFor=\"let pricecond of priceConditions | async\" [value]='pricecond.id'>{{ pricecond.name }}</mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>                           \r\n                <div class=\"price-content\">\r\n                    <mat-form-field class=\"currency\" >\r\n                        <mat-label>Moneda</mat-label>\r\n                        <mat-select formControlName=\"currency_id\">\r\n                            <mat-option *ngFor=\"let currency of currencies | async\" [value]='currency.id'>{{ currency.symbol }}</mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>  \r\n                    <mat-form-field class=\"price\">\r\n                        <mat-label>Precio</mat-label>\r\n                        <input formControlName=\"price\" matInput>                 \r\n                    </mat-form-field>\r\n                </div>        \r\n        \r\n            </div>\r\n            <div class=\"content-btns\"> \r\n                <button  class=\"btn-second nex\" mat-button [disabled]=\"!formStep1.valid\" >Continuar</button>\r\n            </div>\r\n\r\n        </div>\r\n    \r\n    \r\n    </form>\r\n\r\n</div>\r\n</mat-card>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { PublishService } from 'src/app/web/admin/ventas/services/publish.service';\r\nimport { AuthService } from 'src/app/auth/auth.service';\r\nimport { Validators, FormGroup, FormBuilder } from '@angular/forms';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { User } from 'src/app/interfaces/user';\r\nimport { VehicleCategory, Brand, VehicleModel, VehicleSubModel, NameConcat } from 'src/app/interfaces/resultado';\r\nimport { Product } from 'src/app/interfaces/product';\r\nimport { SettingApiService } from 'src/app/web/admin/setting-api/services/setting-api.service';\r\n\r\n@Component({\r\n  selector: 'app-step1',\r\n  templateUrl: './step1.component.html',\r\n  styleUrls: ['./step1.component.scss']\r\n})\r\nexport class Step1Component implements OnInit {\r\n  formStep1: FormGroup;\r\n  data: any;\r\n  categories: VehicleCategory[];\r\n  brands: Brand[];\r\n  models: VehicleModel[];\r\n  subModels: VehicleSubModel[];\r\n  nameConcat: NameConcat = {brand_id: null,vehicle_model_id: null,vehicle_sub_model_id: null};\r\n  categoryId: number;\r\n  brandId: number;\r\n  conditions: any;\r\n  precios: any = [];\r\n  anos: any[];\r\n  currencies: any;\r\n  priceCondition: any;\r\n  priceConditions: any;\r\n  publication: Product;\r\n  update: boolean = false;\r\n\r\n  constructor(\r\n    private _settingApiServises: SettingApiService,\r\n    private _publishService: PublishService,\r\n    private _authService: AuthService,\r\n    private _fb: FormBuilder,\r\n    private route: Router,\r\n    private activateRoute: ActivatedRoute\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.activateRoute.params.subscribe(\r\n      (param: Params) => {\r\n        if (param.id) {\r\n          this._publishService.getPublicationById(param.id)\r\n          this.getPublication();\r\n\r\n        } else {\r\n          this.route.navigate(['/vender/step1'])\r\n        }\r\n        // console.log(param.id);\r\n        \r\n      }\r\n    )\r\n    this.generaFormStep1()\r\n  }\r\n\r\n  private getPublication() {\r\n\r\n\r\n    this._publishService.publication.subscribe(\r\n      res =>{ \r\n        this.publication = res\r\n\r\n        if(this.formStep1){\r\n          this.selectModel(this.publication.brand_id);\r\n          this.selectSubModel(this.publication.vehicle_model_id);\r\n\r\n          this.formStep1.setValue({\r\n            user_id: this.publication.user_id,\r\n            vehicle_category_id: this.publication.vehicle_category_id,\r\n            brand_id: this.publication.brand_id,\r\n            vehicle_model_id: this.publication.vehicle_model_id,\r\n            vehicle_sub_model_id: this.publication.vehicle_sub_model_id,\r\n            year: this.publication.year,\r\n            price: this.publication.price,\r\n            condition_id: this.publication.condition_id,\r\n            km: this.publication.km,\r\n            state: this.publication.state,\r\n            currency_id: this.publication.currency_id,\r\n            city_id: this.publication.city_id,\r\n            neighborhood_id: this.publication.neighborhood_id,\r\n            price_condition_id: this.publication.price_condition_id,\r\n          });\r\n\r\n        }\r\n        this.update = true;\r\n\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  private generaFormStep1() {\r\n    const user: User = this._authService.currentUserValue.user\r\n\r\n    this.formStep1 = this._fb.group({\r\n      user_id: user.id,\r\n      vehicle_category_id: [1, Validators.required],\r\n      brand_id: [null, Validators.required],\r\n      vehicle_model_id: [null, Validators.required],\r\n      vehicle_sub_model_id: [null],\r\n      year: [null, Validators.required],\r\n      price: [0, Validators.required],\r\n      condition_id: [null, Validators.required],\r\n      km: [0],\r\n      state: ['PEN'],\r\n      currency_id: [2, Validators.required],\r\n      city_id: [user.city_id],\r\n      neighborhood_id: [user.neighborhood_id],\r\n      price_condition_id: [null],\r\n    });\r\n\r\n    this.selectCategory()\r\n    this.selectBrand()\r\n    this.selectAnos()\r\n    this.selectCondition()\r\n    this.selectPrecios()\r\n    this.selectCurrency()\r\n    this.selectPriceCondition()\r\n  }\r\n\r\n\r\n  submitStep1() {\r\n\r\n\r\n    this.data = this.formStep1.value\r\n    console.log(this.data);\r\n\r\n    // if (this.data.vehicle_category_id) {\r\n    //   this.idToSlug('vehicle_category_id', this.categories)\r\n    // }\r\n    if (this.data.brand_id) {\r\n      this.idToSlug('brand_id', this.brands , this.data)\r\n    }\r\n    if (this.data.vehicle_model_id) {\r\n      this.idToSlug('vehicle_model_id', this.models , this.data)\r\n    }\r\n    if (this.data.vehicle_sub_model_id) {\r\n      this.idToSlug('vehicle_sub_model_id', this.subModels, this.data)\r\n    }\r\n    // this.cleanObjet(this.data)\r\n    console.log(this.nameConcat);\r\n\r\n    this.data.name_concat = `${this.nameConcat.brand_id} ${this.nameConcat.vehicle_model_id} ${this.nameConcat.vehicle_sub_model_id}`;\r\n\r\n    console.log(this.data);\r\n\r\n\r\n////actualiza o agrega\r\n    if(this.update){\r\n      const nexStep = \"/vender/step2\"\r\n\r\n      return this._publishService.updatePublication(this.data, nexStep)\r\n\r\n    }else{\r\n      return this._publishService.addPublication(this.data)\r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  idToSlug(campo: string, arrCampo: any, data) {\r\n\r\n    let campoSlug = arrCampo.filter(item => item.id == data[campo])\r\n    this.nameConcat[campo] = `${campoSlug[0].name}`\r\n\r\n  }\r\n\r\n  changeCategory(e) {\r\n    this.categoryId = e;\r\n    this.selectBrand();\r\n    // console.log(this.categoryId);\r\n  }\r\n  changeBrand(e) {\r\n    if (e === undefined) {\r\n      this.models = [];\r\n      console.log(this.formStep1.value);\r\n\r\n      this.formStep1.patchValue({\r\n        vehicle_model_id: ''\r\n      })\r\n    } else {\r\n      this.brandId = e;\r\n      this.formStep1.patchValue({\r\n        vehicle_model_id: ''\r\n      })\r\n      this.selectModel(this.brandId);\r\n      // console.log(this.brandId);\r\n    }\r\n  }\r\n  changeModel(e) {\r\n    let modelId;\r\n    if (e === undefined) {\r\n      this.subModels = [];\r\n      console.log(this.formStep1.value);\r\n\r\n      this.formStep1.patchValue({\r\n        vehicle_sub_model_id: ''\r\n      })\r\n    } else {\r\n      modelId = e;\r\n      this.formStep1.patchValue({\r\n        vehicle_sub_model_id: ''\r\n      })\r\n      this.selectSubModel(modelId);\r\n      // console.log(this.brandId);\r\n    }\r\n  }\r\n\r\n  selectCategory() {\r\n    return this._settingApiServises.getCategory()\r\n      .subscribe(\r\n        (category: any) => {\r\n          \r\n          this.categories = category\r\n          // console.log(this.categories);\r\n        }\r\n      )\r\n  }\r\n\r\n  selectBrand() {\r\n    return this._settingApiServises.getBrands()\r\n    .subscribe(\r\n      (res:any)=>{\r\n        this.brands = res\r\n\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n  selectModel(brandId: number) {\r\n    return this._settingApiServises.getModelsByIDBrand(brandId)\r\n      .subscribe(\r\n        (res: any) => {\r\n          this.models = res.vehicle_models\r\n          // console.log(this.models)        \r\n        }\r\n      );\r\n  }\r\n  selectSubModel(modelId){\r\n    return this._settingApiServises.getSubModelByModelId(modelId)\r\n    .subscribe(\r\n      (res: any) => {\r\n        this.subModels = res.veicle_sub_models\r\n        // console.log(this.models)        \r\n      }\r\n    );\r\n  }\r\n\r\n  selectCondition() {\r\n    this.conditions = this._settingApiServises.getCondition()\r\n  }\r\n\r\n  onConditionChanged({value}){\r\n    if (value === 2) {\r\n      this.formStep1.get('km').enable()\r\n      this.formStep1.controls['km'].setValidators(Validators.required)\r\n\r\n    } else {\r\n      this.formStep1.get('km').disable()\r\n    }\r\n  }\r\n\r\n  selectPrecios() {\r\n    let value = 0\r\n    let arrprecios = Array(35);\r\n    for (let i = 0; i < arrprecios.length; i++) {\r\n      value = value + 100000;\r\n      this.precios.push({ 'value': value, 'option': value });\r\n    }\r\n    // let json= JSON.stringify(this.precios)\r\n    // console.log(this.precios);\r\n  }\r\n\r\n  selectAnos() {\r\n    let anos = [];\r\n    let anoAct = new Date().getFullYear();\r\n    for (let i = 1930; i <= anoAct; i++) {\r\n\r\n      anos.push({ 'value': i, 'option': i });\r\n    }\r\n    this.anos = anos.reverse();\r\n    // console.log(this.anos);\r\n  }\r\n  selectCurrency() {\r\n    this.currencies = this._settingApiServises.getCurrencies()\r\n  }\r\n  selectPriceCondition() {\r\n    this.priceConditions = this._settingApiServises.getPriceConditions()\r\n  }\r\n}\r\n","export class CheckboxItem {\r\n    value: string;\r\n    label: string;\r\n    checked: boolean;\r\n    \r\n    constructor(value: any, label: any, checked?: boolean) {\r\n        this.value = value;\r\n        this.label = label;\r\n        this.checked = checked ? checked : false;\r\n    }\r\n}","<form [formGroup]=\"form\">\r\n    <ul formArrayName=\"items\">\r\n        <li *ngFor=\"let item of items.controls; index as i\">\r\n            <mat-checkbox [formControlName]=\"i\">{{options[i].label}}</mat-checkbox>\r\n        </li>\r\n    </ul>\r\n</form>","import { Component, OnInit, Input, OnChanges, Output, EventEmitter } from '@angular/core';\r\nimport { CheckboxItem } from './CheckboxItem';\r\nimport { FormGroup, FormArray, FormControl } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'checkbox-group',\r\n  templateUrl: './checkbox-group.component.html',\r\n  styleUrls: ['./checkbox-group.component.scss']\r\n})\r\nexport class CheckboxGroupComponent implements OnInit, OnChanges {\r\n  @Input() options = Array<CheckboxItem>();\r\n  @Input() selectedValues = Array<string>();\r\n  @Output() toggle = new EventEmitter<any[]>();\r\n  form = new FormGroup({\r\n    items: new FormArray([])\r\n  });\r\n  constructor() { }\r\n  get items(): FormArray {\r\n    return this.form.get('items') as FormArray;\r\n  }\r\n\r\n\r\n\r\n  ngOnInit() {\r\n\r\n    this.form.valueChanges.subscribe(value => {\r\n     const optionsChecked = new Array<any>();\r\n\r\n     for (let index = 0; index < this.items.length; index++) {\r\n      const isOptionChecked = this.items.get(index.toString()).value;\r\n      if (isOptionChecked) {\r\n       const currentOptionValue = this.options[index].value;\r\n       optionsChecked.push(currentOptionValue);\r\n      }\r\n     }\r\n\r\n     this.toggle.emit(optionsChecked);\r\n    });\r\n\r\n    if(this.options){\r\n      this.selectedValues.forEach(value => {\r\n       const index: number = this.options.findIndex(opt => opt.value === value); \r\n       if (index >= 0) {\r\n         this.items.get(index.toString()).setValue(true);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  \r\n  ngOnChanges() {\r\n    if (this.items.length === 0 && this.options) {\r\n     this.options.forEach(x => {\r\n       this.items.push(new FormControl(false));\r\n     });\r\n    }\r\n    if(this.options){\r\n      this.selectedValues.forEach(value => {\r\n       const index: number = this.options.findIndex(opt => opt.value === value); \r\n       if (index >= 0) {\r\n         this.items.get(index.toString()).setValue(true);\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n\r\n   }\r\n\r\n\r\n  }\r\n\r\n","<mat-card class=\"container\" *ngIf=\"publication\">\r\n    <mat-card-header>\r\n        <mat-card-title>Paso 2 - Ficha Técnica</mat-card-title>\r\n    </mat-card-header>\r\n    <div class=\"content\">\r\n        <checkbox-group [options]=\"attrCheckboxes\" [selectedValues]=\"publicationAttributes\" (toggle)=\"attCheck($event,0)\">\r\n        </checkbox-group>\r\n        <mat-divider></mat-divider>\r\n\r\n    </div>\r\n    <div class=\"content\" *ngFor=\"let item of attrCheckboxesChildren; let i=index\">\r\n        <!-- <h5>{{ item.title }}</h5>\r\n    <checkbox-group [options]=\"item.attributes\" [selectedValues]=\"publicationAttributes\" (toggle)=\"attCheck($event, i+1)\">\r\n    </checkbox-group> -->\r\n\r\n\r\n        <ng-container *ngIf=\"item.multi_option === '1'; else elseTemplate\">\r\n\r\n            <label>{{ item.title }}</label>\r\n            <mat-radio-group class=\"radio-group\" [value]=\"value(item.attributes, i+1)\">\r\n                <mat-radio-button class=\"radio-button\" *ngFor=\"let sItem of item.attributes\" [value]=\"sItem.value\"\r\n                    (change)=\"attCheck($event.value, i+1)\">\r\n                    {{sItem.label}}\r\n                </mat-radio-button>\r\n            </mat-radio-group>\r\n            <mat-divider [inset]=\"true\"></mat-divider>\r\n\r\n        </ng-container>\r\n\r\n        <ng-template #elseTemplate>\r\n\r\n            <label>{{ item.title }}</label>\r\n            <checkbox-group [options]=\"item.attributes\" [selectedValues]=\"publicationAttributes\"\r\n                (toggle)=\"attCheck($event, i+1)\">\r\n            </checkbox-group>\r\n            <mat-divider></mat-divider>\r\n        </ng-template>\r\n    </div>\r\n\r\n    <div class=\"content-btns\">\r\n        <button mat-button (click)=\"back()\" routerLinkActive=\"active\">Atras</button>\r\n        <button class=\"btn-second nex\" mat-button (click)=\"submitStep2()\">Siguiente</button>\r\n    </div>\r\n\r\n</mat-card>","import { Component, OnInit, Attribute, OnChanges } from '@angular/core';\r\nimport { PublishService } from '../../../services/publish.service';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { Product } from 'src/app/interfaces/product';\r\nimport { take } from 'rxjs/operators';\r\nimport { SettingApiService } from 'src/app/web/admin/setting-api/services/setting-api.service';\r\nimport { CheckboxItem } from 'src/app/shared/checkbox-group/CheckboxItem';\r\n\r\n@Component({\r\n  selector: 'app-step2',\r\n  templateUrl: './step2.component.html',\r\n  styleUrls: ['./step2.component.scss']\r\n})\r\nexport class Step2Component implements OnInit {\r\n\r\n  attributes: any;\r\n  subAttr: any;\r\n  attrCheckboxes: any;\r\n  attrCheckboxesChildren: any;\r\n  groupCheckbox: any=[];\r\n  publicationAttributes: any;\r\n  publication: Product;\r\n\r\n\r\n\r\n  constructor(\r\n    private _settingApiServises: SettingApiService,\r\n    private _publishService: PublishService,\r\n    private route: Router,\r\n    private activateRoute: ActivatedRoute\r\n    ) { \r\n\r\n  }\r\n  ngOnInit() {\r\n    \r\n    this.activateRoute.params.subscribe(\r\n      (param: Params) => {\r\n        if (param.id) {\r\n          this._publishService.getPublicationById(param.id)\r\n          this.getPublication()\r\n        } else {\r\n          this.route.navigate(['/vender/step1'])\r\n        }\r\n        // console.log(param.id);\r\n        \r\n        this.selectAttributes();\r\n      }\r\n    )\r\n\r\n    \r\n\r\n  }\r\n\r\n  private getPublication() {\r\n    this._publishService.publication.subscribe(\r\n      res => {\r\n        this.publication = res\r\n        this.selectValues()\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n\r\n  ////////SUBMIT\r\n  submitStep2() {\r\n    const attributes = this.groupCheckbox.flat()\r\n    console.log(attributes);\r\n    \r\n    const data = {'attributes': attributes}\r\n    \r\n\r\n    \r\n    \r\n    this.udatePublication(data);\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  udatePublication(data) {\r\n    console.log(data);\r\n    const nexStep = \"/vender/step3\"\r\n    return this._publishService.updatePublication(data, nexStep)\r\n\r\n  }\r\n\r\n  back(){\r\n    const urlBack = `/vender/step1/${this.publication.id}`\r\n    this.route.navigate([urlBack]);\r\n  }\r\n\r\n  selectAttributes() {\r\n    this._settingApiServises.getAttributes()\r\n      .pipe(\r\n        take(1)\r\n      )\r\n      .subscribe(\r\n        attr => {\r\n          this.attributes = attr\r\n\r\n          this.attrCheckboxes = this.attributes\r\n            .filter(x => !x.attributes.length)\r\n            .map(\r\n              x => {\r\n                return new CheckboxItem(x.id, x.name)\r\n              }\r\n            );\r\n\r\n          this.attrCheckboxesChildren = this.attributes\r\n            .filter(x => x.attributes.length)\r\n            .map(\r\n              x => {\r\n                let children = \r\n                  {\r\n                    title: x.name,\r\n                    attributes: x.attributes.map(x=> new CheckboxItem(x.id, x.name)),\r\n                    multi_option: x.multi_option\r\n                  }\r\n                \r\n\r\n                return children;\r\n              }\r\n              \r\n            )\r\n          \r\n          // this.addCheckboxesAttributes()\r\n          \r\n            console.log();\r\n            \r\n        }\r\n      );\r\n  }\r\n\r\n  attCheck(event, group) {\r\n    this.groupCheckbox[group] = event;\r\n  }\r\n\r\n\r\n  value(valores,i){\r\n    // console.log(this.publicationAttributes);\r\n\r\n    const n = valores.map(\r\n                a => { \r\n                  const ch = this.publicationAttributes.find(b => b === a.value)\r\n                  // console.log(ch);\r\n                  return ch\r\n                  \r\n                }\r\n              )\r\n    const che = n.filter(x=> x !== undefined)\r\n    // this.attCheck(che[0], i)\r\n\r\n    return che[0];\r\n      \r\n  }\r\n\r\n\r\n  selectValues(){\r\n    \r\n    this._publishService.publication.pipe(take(1)).subscribe(\r\n      res => {\r\n        console.log(res);\r\n        \r\n        if(res && res.attributes.length != 0){\r\n        this.publicationAttributes = res.attributes.map(v=> v.id)\r\n    //   console.log(this.publicationAttributes);\r\n        }else{\r\n          this.publicationAttributes = []\r\n        }\r\n      }\r\n    )\r\n\r\n    // const values = this._publishService.publicationValue;\r\n    // if(values){\r\n    //   this.publicationAttributes = values.attributes.map(v=> v.id)\r\n    //   console.log(this.publicationAttributes);\r\n      \r\n    // }else{\r\n      \r\n    //   this.publicationAttributes = []\r\n    // }\r\n    \r\n    \r\n  }\r\n}\r\n","<div class=\"container\">\r\n    <div class=\"upload\">\r\n        <label for=\"file\">\r\n            <div class=\"image-input\">\r\n                    <img [src]=\"'../../../../../../../../assets/images/no-image.svg'\" alt=\"Subir Imagen\">\r\n            </div>\r\n        </label>\r\n        <input id=\"file\" hidden type=\"file\" (change)=\"uploadImage($event)\" multiple >\r\n    </div>\r\n    <div class=\"instructions\">\r\n\r\n    </div>\r\n</div>\r\n    <div cdkDropList cdkDropListOrientation=\"horizontal\" class=\"list\" (cdkDropListDropped)=\"drop($event)\">\r\n        <div class=\"box\" *ngFor=\"let image of publication.images\" cdkDrag (mouseover)= \"showDelete = true\" (mouseleave)=\"showDelete = false\" >\r\n            <mat-icon (click)=\"removeImage(image.id)\" *ngIf=\"showDelete\" class=\"delete-image\" color=\"warn\">delete</mat-icon>\r\n            <img [src]=\"image.url || '../../../../../../../../assets/images/no-image.svg'\" alt=\"\">\r\n        </div>\r\n    </div>\r\n\r\n","import { Component, OnInit, AfterViewInit, SimpleChanges, OnChanges, Input } from '@angular/core';\r\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { PublishService } from '../../../../services/publish.service';\r\nimport { Images, Product } from 'src/app/interfaces/product';\r\nimport { Observable } from 'rxjs';\r\nimport { HttpEvent, HttpEventType } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'images-drag-drop',\r\n  templateUrl: './images-drag-drop.component.html',\r\n  styleUrls: ['./images-drag-drop.component.scss']\r\n})\r\nexport class ImagesDragDropComponent implements OnInit {\r\n  @Input('images') images: Images[];\r\n  @Input('publication')publication : Product;\r\n  publication_res: Object;\r\n  progress: number;\r\n  showDelete : boolean = false;\r\n\r\n  constructor(\r\n    private _publishService: PublishService,\r\n\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    console.log(this.images);\r\n\r\n  }\r\n\r\n\r\n\r\n  drop(event: CdkDragDrop<string[]>) {\r\n\r\n    moveItemInArray(this.images, event.previousIndex, event.currentIndex);\r\n    console.log(this.images);\r\n    const imagePosition = this.images.map((v,i)=> {\r\n      return {id: v.id , position: i}\r\n    })\r\n    console.log(imagePosition);\r\n\r\n    this._publishService.updateImage(imagePosition)\r\n\r\n  }\r\n\r\n\r\n  uploadImage(e) {\r\n\r\n    console.log(e);\r\n    \r\n    if (e.target.files && e.target.files[0]) {\r\n      const selectedFiles = <FileList>e.target.files;\r\n\r\n      const fileNames = [];\r\n      // console.log(selectedFiles);\r\n\r\n      // console.log(this.files);\r\n\r\n      this._publishService.uploadProductImage(this.publication.id, selectedFiles)\r\n        .subscribe(\r\n          (event: HttpEvent<Object>) => {\r\n\r\n            // console.log(event);\r\n            if (event.type === HttpEventType.Response) {\r\n              console.log('Upload Concluído');\r\n              console.log(event.body);\r\n              this._publishService.publicationSubject$.next(event.body);\r\n              \r\n            } else if (event.type === HttpEventType.UploadProgress) {\r\n              const percentDone = Math.round((event.loaded * 100) / event.total);\r\n              // console.log('Progresso', percentDone);\r\n              this.progress = percentDone;\r\n            }\r\n          }\r\n        )\r\n    }\r\n\r\n  }\r\n\r\n\r\n \r\n  removeImage(id: number){\r\n    this._publishService.removeImageId(id)\r\n  }\r\n\r\n\r\n}\r\n","<mat-card class=\"container\" *ngIf=\"publication\" >\r\n    <mat-card-header>\r\n        <mat-card-title>Paso 3 - Imágenes</mat-card-title>\r\n    </mat-card-header>\r\n    <div class=\"content\">\r\n\r\n        <div class=\"upload\">\r\n            <images-drag-drop [images]=\"publication.images\" [publication]= \"publication\"></images-drag-drop>\r\n        </div>\r\n        \r\n        <div class=\"content-btns\"> \r\n            <button mat-button  (click)=\"back()\" >Atras</button>\r\n            <button class=\"btn-second nex\" (click)=\"onSubmit()\" [disabled]=\"btnDisabled\" mat-button >Siguiente</button>\r\n        </div>\r\n    </div>\r\n</mat-card>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { PublishService } from '../../../services/publish.service';\r\nimport { take } from 'rxjs/operators';\r\nimport { Params, Router, ActivatedRoute } from '@angular/router';\r\nimport { Product } from 'src/app/interfaces/product';\r\nimport { SettingApiService } from 'src/app/web/admin/setting-api/services/setting-api.service';\r\n\r\n@Component({\r\n  selector: 'app-step3',\r\n  templateUrl: './step3.component.html',\r\n  styleUrls: ['./step3.component.scss']\r\n})\r\nexport class Step3Component implements OnInit {\r\n  formStep3: FormGroup;\r\n  extras: any[];\r\n  publicationID: number;\r\n  progress: number;\r\n  images: any;\r\n  publication: Product;\r\n  btnDisabled: boolean = false;\r\n\r\n\r\n  constructor(\r\n    private _fb: FormBuilder,\r\n    private _publishService: PublishService,\r\n    private _settingApiServises: SettingApiService,\r\n    private route: Router,\r\n    private activateRoute: ActivatedRoute\r\n\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.activateRoute.params.subscribe(\r\n      (param: Params) => {\r\n        if (param.id) {\r\n          this._publishService.getPublicationById(param.id)\r\n          this.getPublication()\r\n         \r\n\r\n        } else {\r\n          this.route.navigate(['/vender/step1'])\r\n        }\r\n\r\n      }\r\n    )\r\n\r\n\r\n    \r\n  }\r\n\r\n  onSubmit(){\r\n    if(this.publication.images.length >= 1){\r\n      this.btnDisabled = true;\r\n      this.route.navigate([`/vender/step4/${this.publication.id}`])\r\n    }\r\n  }\r\n\r\n  private getPublication() {\r\n    this._publishService.publication.subscribe(\r\n      res => {\r\n        this.publication = res\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n  back(){\r\n    const urlBack = `/vender/step2/${this.publication.id}`\r\n    this.route.navigate([urlBack]);\r\n  }\r\n\r\n\r\n}\r\n","<mat-card class=\"container\" *ngIf=\"publication\" >\r\n    <mat-card-header>\r\n        <mat-card-title>Paso 4 - Datos extra del Vehículo</mat-card-title>\r\n    </mat-card-header>\r\n    <div class=\"content\">\r\n       <!-- ////extras -->\r\n\r\n\r\n        \r\n        <div class=\"extras\">\r\n            <mat-card-header>\r\n                <mat-card-title>Cuentanos que lo hace único</mat-card-title>\r\n            </mat-card-header>\r\n\r\n            <checkbox-group [options]=\"checkboxes\" [selectedValues]=\"publicationExtras\" (toggle)=\"attCheck($event,0)\">\r\n            </checkbox-group>\r\n    \r\n        </div>\r\n\r\n        \r\n        <form *ngIf=\"formStep3\" [formGroup]=\"formStep3\" >\r\n\r\n            <mat-card-header>\r\n                <mat-card-title>Describe tu vehículo</mat-card-title>\r\n            </mat-card-header>\r\n            <div class=\"description\">\r\n                <mat-form-field class=\"text-description\" appearance=\"outline\">\r\n                    <textarea formControlName=\"description\"  matInput #description maxlength=\"1000\" placeholder=\"Descripción\"></textarea>\r\n                    <mat-hint align=\"start\"><strong>Por su seguridad no introdusca datos personales</strong> </mat-hint>\r\n                    <mat-hint align=\"end\">{{description.value.length}} / 1000</mat-hint>\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"content-btns\"> \r\n                <button mat-button  (click)=\"back()\">Atras</button>\r\n                <button class=\"btn-second nex\" mat-button [disabled]=\"!formStep3.valid\" (click)=\"submitStep3()\" >Siguiente</button>\r\n            </div>\r\n        </form>\r\n\r\n    </div>\r\n</mat-card>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { PublishService } from '../../../services/publish.service';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { SettingApiService } from 'src/app/web/admin/setting-api/services/setting-api.service';\r\nimport { Product } from 'src/app/interfaces/product';\r\nimport { take } from 'rxjs/operators';\r\nimport { CheckboxItem } from 'src/app/shared/checkbox-group/CheckboxItem';\r\n\r\n@Component({\r\n  selector: 'app-step4',\r\n  templateUrl: './step4.component.html',\r\n  styleUrls: ['./step4.component.scss']\r\n})\r\nexport class Step4Component implements OnInit {\r\n  formStep3: FormGroup;\r\n  extras: any[];\r\n  publicationID: number;\r\n  extraIterable: any;\r\n  publication: Product;\r\n  checkboxes: any;\r\n  publicationExtras: number[];\r\n  groupCheckbox: any;\r\n\r\n  constructor(\r\n    private _fb: FormBuilder,\r\n    private _publishService: PublishService,\r\n    private _settingApiServises: SettingApiService,\r\n    private route: Router,\r\n    private activateRoute: ActivatedRoute\r\n\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.activateRoute.params.subscribe(\r\n      (param: Params) => {\r\n        if (param.id) {\r\n          this._publishService.getPublicationById(param.id)\r\n          this.getPublication()\r\n         \r\n\r\n        } else {\r\n          this.route.navigate(['/vender/step1'])\r\n        }\r\n\r\n\r\n        this.selectExtras();\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n\r\n  \r\n  private generaFormStep3() {\r\n    this.formStep3 = this._fb.group({\r\n      description: [null, Validators.maxLength(1000)]\r\n    });\r\n\r\n\r\n  }\r\n\r\n  submitStep3() {\r\n    const extras = this.groupCheckbox.flat()\r\n    console.log(extras);\r\n    const description = this.formStep3.controls.description.value\r\n    const data = {\r\n      'description': description,\r\n      'extras': extras,\r\n    }\r\n    this.udatePublication(data);\r\n\r\n  }\r\n\r\n\r\n\r\n  udatePublication(data) {\r\n    console.log(data);\r\n    const nexStep = \"/vender/step5\"\r\n    return this._publishService.updatePublication(data, nexStep)\r\n  }\r\n\r\n\r\n  private getPublication() {\r\n    this._publishService.publication.subscribe(\r\n      res => {\r\n        this.publication = res\r\n        this.selectValues()\r\n      }\r\n    )\r\n\r\n  }\r\n  \r\n  \r\n  selectExtras() {\r\n    this._settingApiServises.getExtras()\r\n      .pipe(\r\n        take(1)\r\n      )\r\n      .subscribe(\r\n        (attr: any) => {\r\n          \r\n          console.log(attr);\r\n          \r\n          this.checkboxes = attr\r\n          .map(\r\n            x => {\r\n              return new CheckboxItem(x.id, x.name)\r\n            }\r\n            );\r\n            \r\n            if(this.checkboxes){\r\n              \r\n            }\r\n          console.log(this.checkboxes);\r\n\r\n          // this.addCheckboxesAttributes()\r\n\r\n        }\r\n      );\r\n  }\r\n\r\n  selectValues() {\r\n\r\n    this._publishService.publication.pipe(take(1)).subscribe(\r\n      res => {\r\n        console.log(res);\r\n        \r\n        if (res) {\r\n          this.publicationExtras = res.extras.map(v => v.id)\r\n          console.log(this.publicationExtras);\r\n          \r\n        } else {\r\n          this.publicationExtras = []\r\n        }\r\n        this.generaFormStep3();\r\n\r\n\r\n      }\r\n\r\n    )\r\n\r\n    ////Valor Descripción\r\n    if (this.publication) {\r\n      const descriptionText = this.publication.description\r\n      this.formStep3.patchValue({\r\n        description: descriptionText\r\n      })\r\n\r\n    }\r\n\r\n  }\r\n\r\n  attCheck(event, group) {\r\n    // console.log(event);\r\n    // \r\n    this.groupCheckbox = event;\r\n\r\n    // console.log(this.groupCheckbox);\r\n\r\n  }\r\n\r\n\r\n\r\n  back(){\r\n    const urlBack = `/vender/step3/${this.publication.id}`\r\n    this.route.navigate([urlBack]);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Params, ActivatedRoute, Router } from '@angular/router';\r\nimport { PublishService } from '../../../services/publish.service';\r\n\r\n@Component({\r\n  selector: 'app-step5',\r\n  templateUrl: './step5.component.html',\r\n  styleUrls: ['./step5.component.scss']\r\n})\r\nexport class Step5Component implements OnInit {\r\n\r\n  constructor(\r\n    private route: Router,\r\n    private activateRoute: ActivatedRoute,\r\n    private _publishService: PublishService,\r\n\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.activateRoute.params.subscribe(\r\n      (param: Params) => {\r\n        if (param.id) {\r\n          this._publishService.getPublicationById(param.id)\r\n          \r\n\r\n        } else {\r\n          this.route.navigate(['/vender/step1'])\r\n        }\r\n\r\n\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n}\r\n","<mat-card class=\"container\">\r\n    <mat-card-header>\r\n        <mat-card-title>Paso 4 - Como quieres vender tu vehículo? </mat-card-title>\r\n        <mat-card-subtitle class=\"subtitle-primary\">Ya sabemos que vamos avender tu auto... Tu decides en cuanto tiempo!</mat-card-subtitle>\r\n    </mat-card-header>\r\n    <div class=\"content\">\r\n        <mat-card class=\"tarjetas\">\r\n            <mat-card-header class=\"header-card\">\r\n                <mat-card-title>Sin Apuro</mat-card-title>\r\n                <mat-card-subtitle class=\"subtitle\"><span>Gratis</span><p>Menor Exposición</p></mat-card-subtitle>\r\n            </mat-card-header>\r\n            <mat-card-content class=\"minimo\">\r\n\r\n            </mat-card-content>\r\n            <mat-card-actions>\r\n                <button mat-button class=\"btn-primary\">Elegir</button>\r\n            </mat-card-actions>\r\n        </mat-card>\r\n        <mat-card  class=\"tarjetas\">\r\n            <mat-card-header class=\"header-card\">\r\n                <mat-card-title>\r\n                    Mostrarlo Más\r\n                </mat-card-title>\r\n                <mat-card-subtitle class=\"subtitle\"><span>$ 600</span><p>Exposición Moderada</p></mat-card-subtitle>\r\n            </mat-card-header>\r\n            <mat-card-content class=\"media\">\r\n\r\n            </mat-card-content>\r\n            <mat-card-actions>\r\n                <button mat-button class=\"btn-primary\">Elegir</button>\r\n            </mat-card-actions>\r\n        </mat-card>\r\n        <mat-card class=\"tarjetas\">\r\n            <mat-card-header class=\"header-card\">\r\n                <mat-card-title>Cuanto antes Mejor</mat-card-title>\r\n                <mat-card-subtitle class=\"subtitle\"><span>$ 1.200</span><p>Exposición Alta</p></mat-card-subtitle>\r\n            </mat-card-header>\r\n            <mat-card-content class=\"alta\">\r\n\r\n            </mat-card-content>\r\n            <mat-card-actions>\r\n                <button mat-button class=\"btn-primary\">Elegir</button>\r\n            </mat-card-actions>\r\n        </mat-card>\r\n        <mat-card class=\"tarjetas\">\r\n            <mat-card-header class=\"header-card\">\r\n                <mat-card-title>Urgente!</mat-card-title>\r\n                <mat-card-subtitle class=\"subtitle\"><span>$ 2.400</span><p>Máxima Exposición</p></mat-card-subtitle>\r\n            </mat-card-header>\r\n            <mat-card-content class=\"maximo\">\r\n\r\n            </mat-card-content>\r\n            <mat-card-actions>\r\n                <button mat-button class=\"btn-primary\">Elegir</button>\r\n            </mat-card-actions>\r\n        </mat-card>\r\n    </div>\r\n</mat-card>","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthGuard } from './auth/guards/auth.guard';\r\nimport { VenderComponent } from './web/admin/ventas/vender/vender.component';\r\nimport { Step1Component } from './web/admin/ventas/vender/steps/step1/step1.component';\r\nimport { Step2Component } from './web/admin/ventas/vender/steps/step2/step2.component';\r\nimport { Step3Component } from './web/admin/ventas/vender/steps/step3/step3.component';\r\nimport { Step4Component } from './web/admin/ventas/vender/steps/step4/step4.component';\r\nimport { Step5Component } from './web/admin/ventas/vender/steps/step5/step5.component';\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n\r\n  {\r\n    path: 'mi-cuenta',\r\n    loadChildren: () => import('./web/admin/admin.module').then(m => m.AdminModule),\r\n    canActivate: [AuthGuard]\r\n  },\r\n  {\r\n    path: 'auth',\r\n    loadChildren: () => import('./auth/auth.module').then(m => m.AuthModule)\r\n\r\n  },\r\n  {\r\n    path: 'vender',\r\n    component: VenderComponent,\r\n    canActivate:[AuthGuard],\r\n    children: [\r\n      {\r\n        path: 'step1/:id',\r\n        component: Step1Component\r\n      },\r\n      {\r\n        path: 'step1',\r\n        component: Step1Component\r\n      },\r\n      {\r\n        path: 'step2/:id',\r\n        component: Step2Component\r\n      },\r\n      {\r\n        path: 'step2',\r\n        component: Step2Component\r\n      },\r\n      {\r\n        path: 'step3/:id',\r\n        component: Step3Component\r\n      },\r\n      {\r\n        path: 'step3',\r\n        component: Step3Component\r\n      },\r\n      {\r\n        path: 'step4/:id',\r\n        component: Step4Component\r\n      },\r\n      {\r\n        path: 'step4',\r\n        component: Step4Component\r\n      },\r\n      {\r\n        path: 'step5/:id',\r\n        component: Step5Component\r\n      },\r\n      {\r\n        path: 'step5',\r\n        component: Step5Component\r\n      },\r\n\r\n    ]\r\n  },\r\n  {\r\n    path: '',\r\n    loadChildren: () => import('./web/pages/pages.module').then(m => m.PagesModule)\r\n  },\r\n  {\r\n    path: '**',\r\n    loadChildren: () => import('./web/pages/pages.module').then(m => m.PagesModule)\r\n  },\r\n\r\n  // {\r\n  //   path : 'admin',\r\n  //   loadChildren: './app-layout/app-layout.module#AppLayoutModule',\r\n  //   canActivate: [AuthGuard]\r\n  // },\r\n  // { \r\n  //   path: '**', \r\n  //   redirectTo: '' \r\n  // }\r\n\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, {\r\n    initialNavigation: 'enabled'\r\n})],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n}\r\n","<router-outlet></router-outlet>\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable()\r\n\r\nexport class AuthInterceptor implements HttpInterceptor {\r\n    constructor() {}\r\n\r\n    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        const requestUrl: Array<any> = req.url.split('/');\r\n        const apiUrl: Array<any> = environment.AuthAPI.split('/');\r\n        // console.log(apiUrl);\r\n        // console.log(requestUrl);\r\n        \r\n        let loginUrl = `${environment.API}auth/login`;\r\n        let registerUrl = `${environment.API}auth/signup`;\r\n        // console.log(loginUrl);\r\n        // console.log(req.url);\r\n        \r\n        \r\n        if(requestUrl[2] === apiUrl[2]\r\n            // && requestUrl[4] === apiUrl[4]\r\n            && req.url !== loginUrl\r\n            && req.url !== registerUrl){\r\n                if(localStorage.getItem('currentUser')){\r\n                    const currentUser = localStorage.getItem('currentUser');\r\n                    const token = JSON.parse(currentUser).token;\r\n                    // console.log(token);\r\n                    if(token){\r\n                        // console.log(token)\r\n                        const headers = req.headers\r\n                        .set('Authorization', `Bearer ${token}`);\r\n                        const authReq = req.clone({ headers });\r\n                        return next.handle(authReq);\r\n                    }\r\n                }else{\r\n                    return next.handle(req);\r\n                }\r\n        }else{\r\n            return next.handle(req);\r\n        }\r\n    }\r\n}","/* \"Barrel\" of Http Interceptors */\r\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { AuthInterceptor } from './auth.interceptor';\r\nimport { ErrorInterceptor } from './error.interceptor';\r\n\r\n\r\n/** Http interceptor providers in outside-in order */\r\nexport const indexAuthInterceptor = [\r\n  { provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true },\r\n  { provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true },\r\n];","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\nimport { AuthService } from '../auth.service';\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n    constructor(private authService: AuthService) { }\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        return next.handle(request).pipe(catchError(err => {\r\n            if (err.status === 401) {\r\n                // auto logout if 401 response returned from api\r\n                // this.authService.logout();\r\n                if(err.error.message === \"Unauthorized\"){\r\n                    this.authService.errorSubject.next('Usuario o contraseña incorrectos')\r\n                }else{\r\n                    this.authService.logout()\r\n                }\r\n                // this.authService.logout().subscribe(\r\n                //     res => console.log(res)\r\n                //   );\r\n                // location.reload(true);\r\n\r\n            }\r\n\r\n            const error = err.error.message || err.statusText;\r\n            return throwError(error);\r\n        }))\r\n    }\r\n}","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { MaterialModule } from './shared/material/material.module';\r\nimport { indexAuthInterceptor } from './auth/helpers/index-auth.interceptor';\r\nimport { PERFECT_SCROLLBAR_CONFIG } from 'ngx-perfect-scrollbar';\r\nimport { PerfectScrollbarConfigInterface } from 'ngx-perfect-scrollbar';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\n\r\n\r\nconst DEFAULT_PERFECT_SCROLLBAR_CONFIG: PerfectScrollbarConfigInterface = {\r\n  suppressScrollX: true\r\n};\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule.withServerTransition({ appId: 'serverApp' }),\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    HttpClientModule,\r\n    MaterialModule,\r\n    ReactiveFormsModule,\r\n  ],\r\n  providers: [\r\n    indexAuthInterceptor,\r\n    {\r\n      provide: PERFECT_SCROLLBAR_CONFIG,\r\n      useValue: DEFAULT_PERFECT_SCROLLBAR_CONFIG\r\n    },\r\n  ],\r\n\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n\r\n","import 'hammerjs';\r\nimport { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  platformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n});\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}