{"version":3,"sources":["webpack:///src/app/auth/user-actions/user-actions.component.html","webpack:///src/app/auth/user-actions/user-actions.component.ts","webpack:///src/environments/environment.ts","webpack:///src/app/shared/material/material.module.ts","webpack:///src/app/shared/snack-bar/snack-bar.component.ts","webpack:///src/app/shared/snack-bar/snack-bar.component.html","webpack:///src/app/web/admin/setting-api/services/setting-api.service.ts","webpack:///src/app/auth/auth.service.ts","webpack:///src/app/auth/guards/auth.guard.ts","webpack:///src/app/web/admin/ventas/vender/vender.component.ts","webpack:///src/app/web/admin/ventas/services/publish.service.ts","webpack:///src/app/web/admin/ventas/vender/vender.component.html","webpack:///src/app/web/admin/ventas/vender/steps/step1/step1.component.html","webpack:///src/app/web/admin/ventas/vender/steps/step1/step1.component.ts","webpack:///src/app/shared/checkbox-group/CheckboxItem.ts","webpack:///src/app/shared/checkbox-group/checkbox-group.component.html","webpack:///src/app/shared/checkbox-group/checkbox-group.component.ts","webpack:///src/app/web/admin/ventas/vender/steps/step2/step2.component.html","webpack:///src/app/web/admin/ventas/vender/steps/step2/step2.component.ts","webpack:///src/app/web/admin/ventas/vender/steps/step3/images-drag-drop/images-drag-drop.component.html","webpack:///src/app/web/admin/ventas/vender/steps/step3/images-drag-drop/images-drag-drop.component.ts","webpack:///src/app/web/admin/ventas/vender/steps/step3/step3.component.html","webpack:///src/app/web/admin/ventas/vender/steps/step3/step3.component.ts","webpack:///src/app/web/admin/ventas/vender/steps/step4/step4.component.html","webpack:///src/app/web/admin/ventas/vender/steps/step4/step4.component.ts","webpack:///src/app/web/admin/ventas/vender/steps/step5/step5.component.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/auth/helpers/auth.interceptor.ts","webpack:///src/app/auth/helpers/error.interceptor.ts","webpack:///src/app/app.module.ts","webpack:///src/app/web/admin/ventas/vender/steps/step5/step5.component.html","webpack:///src/app/app.component.html","webpack:///src/app/auth/helpers/index-auth.interceptor.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["UserActionsComponent","_authService","router","rutaActiva","color","this","url","subscribe","data","returnUrl","currentUser","user","console","log","navigate","queryParams","logout","res","menuTrigger","closeMenu","environment","production","API","AuthAPI","urlFiles","MaterialModule","SnackBarComponent","SettingApiService","_http","_snackBar","get","pipe","take","post","id","delete","put","brand_id","model_id","estadoRes","message","classToast","openFromComponent","panelClass","verticalPosition","duration","durationSeconds","AuthService","http","errorSubject","currentUserSubject","JSON","parse","localStorage","getItem","asObservable","error$","credentials","token","setItem","stringify","next","removeItem","value","AuthGuard","VenderComponent","PublishService","authService","route","state","currentUserValue","error","matIconRegistry","domSanitizer","config","suppressScrollX","addSvgIcon","bypassSecurityTrustResourceUrl","activateRoute","publicationSubject$","BehaviorSubject","publication","publicationValue","Step","publicationId","nexStep","publicationID","files","index","formData","FormData","i","length","append","observe","reportProgress","map","d","imageID","products","Step1Component","_settingApiServises","_publishService","_fb","nameConcat","vehicle_model_id","vehicle_sub_model_id","precios","update","params","param","getPublicationById","getPublication","generaFormStep1","formStep1","selectModel","selectSubModel","setValue","user_id","vehicle_category_id","year","price","condition_id","km","currency_id","city_id","neighborhood_id","price_condition_id","group","required","selectCategory","selectBrand","selectAnos","selectCondition","selectPrecios","selectCurrency","selectPriceCondition","idToSlug","brands","models","subModels","name_concat","updatePublication","addPublication","campo","arrCampo","campoSlug","filter","item","name","e","categoryId","patchValue","brandId","modelId","getCategory","category","categories","getBrands","getModelsByIDBrand","vehicle_models","getSubModelByModelId","veicle_sub_models","conditions","getCondition","enable","controls","setValidators","disable","arrprecios","Array","push","anos","anoAct","Date","getFullYear","reverse","currencies","getCurrencies","priceConditions","getPriceConditions","submitStep1","changeBrand","changeModel","onConditionChanged","CheckboxItem","label","checked","CheckboxGroupComponent","options","selectedValues","toggle","form","items","valueChanges","optionsChecked","toString","emit","forEach","findIndex","opt","x","Step2Component","groupCheckbox","selectAttributes","selectValues","attributes","flat","udatePublication","getAttributes","attr","attrCheckboxes","attrCheckboxesChildren","title","multi_option","event","valores","a","publicationAttributes","find","b","v","ImagesDragDropComponent","showDelete","images","previousIndex","currentIndex","imagePosition","position","updateImage","target","uploadProductImage","type","Response","body","UploadProgress","percentDone","Math","round","loaded","total","progress","removeImageId","uploadImage","drop","Step3Component","btnDisabled","Step5Component","Step4Component","AppComponent","AppRoutingModule","AuthInterceptor","ErrorInterceptor","AppModule","selectExtras","formStep3","description","maxLength","extras","getExtras","checkboxes","publicationExtras","generaFormStep3","routes","path","loadChildren","then","m","AdminModule","canActivate","AuthModule","component","children","PagesModule","forRoot","initialNavigation","req","requestUrl","split","apiUrl","handle","headers","set","authReq","clone","indexAuthInterceptor","provide","useClass","multi","request","catchError","err","status","statusText","throwError","DEFAULT_PERFECT_SCROLLBAR_CONFIG","useValue","withServerTransition","appId","document","addEventListener","bootstrapModule","catch","webpackEmptyAsyncContext","Promise","resolve","Error","code","keys","module","exports"],"mappings":"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","file":"x","sourcesContent":["<ng-container *ngIf=\"currentUser; then loged; else noLoged\"></ng-container>\r\n\r\n<ng-template #loged>\r\n    <div class=\"user\" [ngStyle]=\"{'color': color}\">\r\n        <a class=\"account\" [ngStyle]=\"{'color': color}\" \r\n            [matMenuTriggerFor]=\"menu\" \r\n            (mouseenter)=\"menuTrigger.openMenu()\"\r\n            #menuTrigger=\"matMenuTrigger\"\r\n            >\r\n            Mi cuenta\r\n        </a>\r\n        <a class=\"menu-user\" [ngStyle]=\"{'color': color}\" aria-label=\"\">\r\n            <span>{{ currentUser.name }}</span>\r\n            <i class=\"material-icons\">person</i>\r\n        </a>\r\n        <mat-menu [overlapTrigger]=\"false\" #menu=\"matMenu\">\r\n            <span (mouseleave)=\"menuTrigger.closeMenu()\">\r\n                <button mat-menu-item [routerLink]=\"[ '/mi-cuenta/ventas/publicaciones' ]\">\r\n                    <mat-icon>art_track</mat-icon>\r\n                    <span>Publicaciones</span>\r\n                </button>\r\n                <button mat-menu-item>\r\n                    <mat-icon>favorite_border</mat-icon>\r\n                    <span>Favoritos</span>\r\n                </button>\r\n                <button mat-menu-item>\r\n                    <mat-icon>person_pin</mat-icon>\r\n                    <span>Mis Datos</span>\r\n                </button>\r\n                <button mat-menu-item (click)=\"logout()\">\r\n                    <mat-icon>exit_to_app</mat-icon>\r\n                    <span>Salir</span>\r\n                </button>\r\n            </span>\r\n\r\n        </mat-menu>\r\n    </div>\r\n</ng-template>\r\n\r\n<ng-template #noLoged>\r\n    <div class=\"user\">\r\n        <span></span>\r\n        <span>\r\n            <a mat-button class=\"login\" (click)=\"login()\" [ngStyle]=\"{'color': color}\">Entrar</a>\r\n            <a mat-button href=\"#\" class=\"register btn-primary\">Registrarse</a>\r\n        </span>\r\n    </div>\r\n</ng-template>","import { Component, OnInit, Input } from '@angular/core';\r\n// import {MatDialog} from '@angular/material/dialog';\r\nimport { AuthService } from '../auth.service';\r\nimport { User, CurrentUser } from 'src/app/interfaces/user';\r\nimport { ActivatedRoute, Router, Params } from '@angular/router';\r\nimport { LoginComponent } from '../login/login.component';\r\nimport { MatMenuTrigger } from '@angular/material/menu';\r\n// import { ModalAuthComponent } from '../modal-auth/modal-auth.component';\r\n\r\n@Component({\r\n  selector: 'user-actions-component',\r\n  templateUrl: './user-actions.component.html',\r\n  styleUrls: ['./user-actions.component.scss']\r\n})\r\nexport class UserActionsComponent implements OnInit {\r\n\r\n  @Input('color') color: string = \"#424242\";\r\n  currentUser: User;\r\n  returnUrl: Params;\r\n  menuTrigger: MatMenuTrigger;\r\n  \r\n  \r\n  constructor(\r\n    private _authService : AuthService,\r\n    private router: Router,\r\n    private rutaActiva: ActivatedRoute,\r\n    // public dialog: MatDialog\r\n  ) { }\r\n\r\n  // openDialog(): void {\r\n  //   const dialogRef = this.dialog.open(ModalAuthComponent, {\r\n  //     width: '40%',\r\n  //     // data: {name: this.name, animal: this.animal}\r\n  //   });\r\n\r\n  //   dialogRef.afterClosed().subscribe(result => {\r\n  //     console.log('The dialog was closed');\r\n  //     this.animal = result;\r\n  //   });\r\n  // }\r\n\r\n\r\n  ngOnInit() {\r\n    this.rutaActiva.url.subscribe(\r\n      data =>{\r\n        this.returnUrl = data\r\n      }\r\n    )\r\n    this._authService.currentUser.subscribe(\r\n      (data:any) => {\r\n        if(data) {\r\n          this.currentUser = data.user\r\n        }else{\r\n          this.currentUser = null\r\n        }\r\n      }\r\n    );\r\n    console.log(this.currentUser);\r\n    \r\n  }\r\n\r\n  public login(){\r\n    this.router.navigate(['/login'], { queryParams: { returnUrl: this.returnUrl } })\r\n  }\r\n  public logout(){\r\n    console.log(\"logout\");\r\n    \r\n    return this._authService.logout().subscribe(\r\n      res => console.log(res)\r\n      \r\n    );\r\n  }\r\n\r\n  linkAccound(){\r\n    this.menuTrigger.closeMenu()\r\n    this.router.navigate(['/mi-cuenta']);\r\n\r\n  }\r\n\r\n}\r\n","export const environment = {\r\n  production: true,\r\n  API: 'https://api.infoauto.com.uy/api/',\r\n  AuthAPI: 'https://api.infoauto.com.uy/api/auth/',\r\n  urlFiles: 'https://api.infoauto.com.uy/storage/'\r\n};\r\n","import {NgModule} from '@angular/core';\r\nimport {A11yModule} from '@angular/cdk/a11y';\r\nimport {ClipboardModule} from '@angular/cdk/clipboard';\r\nimport {DragDropModule} from '@angular/cdk/drag-drop';\r\nimport {PortalModule} from '@angular/cdk/portal';\r\nimport {ScrollingModule} from '@angular/cdk/scrolling';\r\nimport {CdkStepperModule} from '@angular/cdk/stepper';\r\nimport {CdkTableModule} from '@angular/cdk/table';\r\nimport {CdkTreeModule} from '@angular/cdk/tree';\r\nimport {MatAutocompleteModule} from '@angular/material/autocomplete';\r\nimport {MatBadgeModule} from '@angular/material/badge';\r\nimport {MatBottomSheetModule} from '@angular/material/bottom-sheet';\r\nimport {MatButtonModule} from '@angular/material/button';\r\nimport {MatButtonToggleModule} from '@angular/material/button-toggle';\r\nimport {MatCardModule} from '@angular/material/card';\r\nimport {MatCheckboxModule} from '@angular/material/checkbox';\r\nimport {MatChipsModule} from '@angular/material/chips';\r\nimport {MatStepperModule} from '@angular/material/stepper';\r\nimport {MatDatepickerModule} from '@angular/material/datepicker';\r\nimport {MatDialogModule} from '@angular/material/dialog';\r\nimport {MatDividerModule} from '@angular/material/divider';\r\nimport {MatExpansionModule} from '@angular/material/expansion';\r\nimport {MatGridListModule} from '@angular/material/grid-list';\r\nimport {MatIconModule} from '@angular/material/icon';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport {MatListModule} from '@angular/material/list';\r\nimport {MatMenuModule} from '@angular/material/menu';\r\nimport {MatNativeDateModule, MatRippleModule} from '@angular/material/core';\r\nimport {MatPaginatorModule} from '@angular/material/paginator';\r\nimport {MatProgressBarModule} from '@angular/material/progress-bar';\r\nimport {MatProgressSpinnerModule} from '@angular/material/progress-spinner';\r\nimport {MatRadioModule} from '@angular/material/radio';\r\nimport {MatSelectModule} from '@angular/material/select';\r\nimport {MatSidenavModule} from '@angular/material/sidenav';\r\nimport {MatSliderModule} from '@angular/material/slider';\r\nimport {MatSlideToggleModule} from '@angular/material/slide-toggle';\r\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\r\nimport {MatSortModule} from '@angular/material/sort';\r\nimport {MatTableModule} from '@angular/material/table';\r\nimport {MatTabsModule} from '@angular/material/tabs';\r\nimport {MatToolbarModule} from '@angular/material/toolbar';\r\nimport {MatTooltipModule} from '@angular/material/tooltip';\r\nimport {MatTreeModule} from '@angular/material/tree';\r\n\r\n@NgModule({\r\n  exports: [\r\n    A11yModule,\r\n    ClipboardModule,\r\n    CdkStepperModule,\r\n    CdkTableModule,\r\n    CdkTreeModule,\r\n    DragDropModule,\r\n    MatAutocompleteModule,\r\n    MatBadgeModule,\r\n    MatBottomSheetModule,\r\n    MatButtonModule,\r\n    MatButtonToggleModule,\r\n    MatCardModule,\r\n    MatCheckboxModule,\r\n    MatChipsModule,\r\n    MatStepperModule,\r\n    MatDatepickerModule,\r\n    MatDialogModule,\r\n    MatDividerModule,\r\n    MatExpansionModule,\r\n    MatGridListModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatListModule,\r\n    MatMenuModule,\r\n    MatNativeDateModule,\r\n    MatPaginatorModule,\r\n    MatProgressBarModule,\r\n    MatProgressSpinnerModule,\r\n    MatRadioModule,\r\n    MatRippleModule,\r\n    MatSelectModule,\r\n    MatSidenavModule,\r\n    MatSliderModule,\r\n    MatSlideToggleModule,\r\n    MatSnackBarModule,\r\n    MatSortModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    MatToolbarModule,\r\n    MatTooltipModule,\r\n    MatTreeModule,\r\n    PortalModule,\r\n    ScrollingModule,\r\n  ]\r\n})\r\nexport class MaterialModule { }\r\n","import { Component, Input, Inject } from '@angular/core';\r\nimport {MAT_SNACK_BAR_DATA} from '@angular/material/snack-bar';\r\n\r\n\r\n@Component({\r\n  selector: 'app-snack-bar',\r\n  templateUrl: './snack-bar.component.html',\r\n  styleUrls: ['./snack-bar.component.scss']\r\n})\r\nexport class SnackBarComponent {\r\n  \r\n    constructor(\r\n      @Inject(MAT_SNACK_BAR_DATA) public data: any\r\n      ) { }\r\n  \r\n\r\n}\r\n","<span class=\"snack-bar\">\r\n    <p>{{ data }}</p>\r\n</span>","import { map, take } from 'rxjs/operators';\r\nimport { environment } from '../../../../../environments/environment';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Brand, VehicleCategory, VehicleModel, VehicleSubModel } from 'src/app/interfaces/resultado';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Attributes, Extras } from 'src/app/interfaces/product';\r\nimport { SnackBarComponent } from 'src/app/shared/snack-bar/snack-bar.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SettingApiService {\r\n\r\n  constructor(\r\n    private _http: HttpClient,\r\n    private _snackBar: MatSnackBar\r\n\r\n  ) {\r\n\r\n  }\r\n\r\n  //categoias\r\n  getCategory() {\r\n    return this._http.get<VehicleCategory>(`${environment.API}category`).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n  addCategory(data) {\r\n    return this._http.post<VehicleCategory>(`${environment.API}category`, data).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n\r\n  deleteCategory(id) {\r\n    return this._http.delete<VehicleCategory>(`${environment.API}category/${id}`).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n\r\n  updateCategory(id, data){\r\n    return this._http.put<VehicleCategory>(`${environment.API}category/${id}`, data).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n  ////\r\n\r\n  ///Brands\r\n  getBrands() {\r\n    return this._http.get<Brand[]>(`${environment.API}brand`).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n\r\n  addBrand(data) {\r\n    return this._http.post<Brand>(`${environment.API}brand`, data).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n\r\n  deleteBrand(id) {\r\n    return this._http.delete<Brand>(`${environment.API}brand/${id}`).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n  updateBrand(id, data){\r\n    return this._http.post<Brand>(`${environment.API}brand/${id}`, data).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n  /////\r\n\r\n  //////Models\r\n  getModels() {\r\n    return this._http.get<VehicleModel>(`${environment.API}vehicle-model-all`)\r\n  }\r\n\r\n  getModelsByIDBrand(brand_id: number) {\r\n    return this._http.get<VehicleModel>(`${environment.API}brand/${brand_id}`)\r\n  }\r\n\r\n  addModel(data) {\r\n    return this._http.post<VehicleModel>(`${environment.API}vehicle-model`, data).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n\r\n  deleteModel(id) {\r\n    return this._http.delete<VehicleModel>(`${environment.API}vehicle-model/${id}`).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n\r\n  updateModel(id, data){\r\n    return this._http.put<VehicleModel>(`${environment.API}vehicle-model/${id}`, data).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n\r\n  ///// Sub Modelos\r\n  getSubModel() {\r\n    return this._http.get<VehicleSubModel>(`${environment.API}vehicle-sub-model`)\r\n  }\r\n  getSubModelByModelId(model_id){\r\n    return this._http.get<VehicleModel>(`${environment.API}vehicle-model/${model_id}`)\r\n\r\n  }\r\n\r\n  addSubModel(data) {\r\n    return this._http.post<VehicleSubModel>(`${environment.API}vehicle-sub-model`, data).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n  deleteSubModel(id) {\r\n    return this._http.delete<VehicleSubModel>(`${environment.API}vehicle-sub-model/${id}`).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n\r\n  updateSubModel(id, data){\r\n    return this._http.put<VehicleSubModel>(`${environment.API}vehicle-sub-model/${id}`, data).pipe(\r\n      take(1)\r\n    )\r\n  }\r\n//////\r\n\r\n\r\n/////Attributes\r\n\r\ngetAttributes() {\r\n  return this._http.get<Attributes>(`${environment.API}attributes`)\r\n}\r\n\r\naddAttribute(data) {\r\n  return this._http.post<Attributes>(`${environment.API}attributes`, data).pipe(\r\n    take(1)\r\n  )\r\n}\r\ndeleteAttribute(id) {\r\n  return this._http.delete<Attributes>(`${environment.API}attributes/${id}`).pipe(\r\n    take(1)\r\n  )\r\n}\r\n\r\n\r\n////////\r\n\r\n/////Extras\r\n\r\ngetExtras() {\r\n  return this._http.get<Extras>(`${environment.API}extras`)\r\n}\r\n\r\naddExtra(data) {\r\n  return this._http.post<Extras>(`${environment.API}extras`, data).pipe(\r\n    take(1)\r\n  )\r\n}\r\ndeleteExtra(id) {\r\n  return this._http.delete<Extras>(`${environment.API}extras/${id}`).pipe(\r\n    take(1)\r\n  )\r\n}\r\n\r\n\r\n////////\r\n\r\n/////Conditions\r\ngetCondition(){\r\n  return this._http.get<any>(`${environment.API}conditions`)\r\n\r\n}\r\n\r\n////////////////////\r\n\r\n/////Currencies\r\ngetCurrencies(){\r\n  return this._http.get<any>(`${environment.API}currency`)\r\n\r\n}\r\n\r\n////////////////////\r\n\r\n/////PriceCondition\r\ngetPriceConditions(){\r\n  return this._http.get<any>(`${environment.API}price-conditions`)\r\n\r\n}\r\n\r\n////////////////////\r\n  openSnackBar(estadoRes, message: string) {\r\n    let classToast: string;\r\n    switch (estadoRes) {\r\n      case \"success\":\r\n        classToast = \"toastSuccess\"\r\n        break;\r\n      case \"warn\":\r\n        classToast = \"toastWarn\"\r\n        break;\r\n      case \"error\":\r\n        classToast = \"toastError\"\r\n        break;\r\n\r\n      default:\r\n        classToast = \"toastError\"\r\n        break;\r\n    }\r\n\r\n    const durationSeconds = 5;\r\n    this._snackBar.openFromComponent(SnackBarComponent, {\r\n      data: message,\r\n      panelClass: [classToast],\r\n      verticalPosition: 'top',\r\n      duration: durationSeconds * 1000,\r\n    });\r\n  }\r\n}\r\n","import { Injectable, EventEmitter } from '@angular/core';\r\nimport { User, CurrentUser } from '../interfaces/user';\r\nimport { Router } from '@angular/router';\r\nimport { map, tap, take } from 'rxjs/operators';\r\nimport { Observable, BehaviorSubject } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthService {\r\n\r\n  private currentUserSubject: BehaviorSubject<CurrentUser>;\r\n  public currentUser: Observable<CurrentUser>;\r\n  public errorSubject: BehaviorSubject<any> = new BehaviorSubject<any>(null)\r\n  public error$: Observable<any>;\r\n\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private http: HttpClient\r\n  ) {\r\n    this.currentUserSubject = new BehaviorSubject<CurrentUser>(JSON.parse(localStorage.getItem('currentUser')));\r\n    this.currentUser = this.currentUserSubject.asObservable();\r\n    this.error$ = this.errorSubject.asObservable();\r\n\r\n   }\r\n\r\n   public get errorValue(): any {\r\n    return this.errorSubject.value;\r\n  }\r\n\r\n  public get currentUserValue(): CurrentUser {\r\n    return this.currentUserSubject.value;\r\n  }\r\n\r\n  register(credentials: User): Observable<User> {\r\n    return this.http.post<User>(`${environment.API}auth/signup`, credentials)\r\n      .pipe(\r\n        map(user => {\r\n            console.log(user);\r\n\r\n            this.router.navigate(['login']);\r\n            // console.log(user);\r\n\r\n\r\n\r\n            return user;\r\n        }),\r\n      );\r\n  }\r\n\r\n\r\n\r\n  login(credentials: User): Observable<CurrentUser> {\r\n    return this.http.post<CurrentUser>(`${environment.API}auth/login`, credentials)\r\n    .pipe(\r\n      map(user => {\r\n          // login successful if there's a jwt token in the response\r\n          if (user && user.token) {\r\n              // store user details ands token in local storage to keep user logged in between page refreshes\r\n              localStorage.setItem('currentUser', JSON.stringify(user));\r\n              this.currentUserSubject.next(user);\r\n              // this.router.navigate(['admin'])\r\n              // console.log(user);\r\n\r\n          }\r\n\r\n          return user;\r\n      }),\r\n    );\r\n  }\r\n\r\n  logout() {\r\n    console.log('logoutService');\r\n\r\n    return this.http.get<any>(`${environment.API}auth/logout`)\r\n    .pipe(\r\n      map( res => {\r\n        console.log(res);\r\n        // remove user from local storage to log user out\r\n        localStorage.removeItem('currentUser');\r\n        this.currentUserSubject.next(null);\r\n        // this.router.navigate(['login']);\r\n      }),\r\n    );\r\n\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { AuthService } from '../auth.service';\r\n\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n  constructor(\r\n    private authService : AuthService,\r\n    private router : Router\r\n  ){}\r\n\r\n  canActivate(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot): Observable<boolean> | boolean  {\r\n\r\n      const currentUser = this.authService.currentUserValue;\r\n      ///si es loged\r\n      if (currentUser) {\r\n        console.log('Logged');\r\n        \r\n         return true;\r\n      }\r\n      ///no logeado\r\n      console.error('No logeado');\r\n      \r\n      this.router.navigate(['/login'], { queryParams: { returnUrl: state.url } });\r\n      return false;\r\n      \r\n  }\r\n  \r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { PerfectScrollbarConfigInterface } from 'ngx-perfect-scrollbar';\r\nimport { MatIconRegistry } from '@angular/material/icon';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n\r\n@Component({\r\n  selector: 'vender',\r\n  templateUrl: './vender.component.html',\r\n  styleUrls: ['./vender.component.scss']\r\n})\r\nexport class VenderComponent implements OnInit {\r\n\r\n  public config: PerfectScrollbarConfigInterface = {\r\n    suppressScrollX : false,\r\n  };\r\n\r\n\r\n  constructor(\r\n    private matIconRegistry: MatIconRegistry,\r\n    private domSanitizer: DomSanitizer\r\n    ) { \r\n      this.matIconRegistry.addSvgIcon(\r\n        'step',\r\n        this.domSanitizer.bypassSecurityTrustResourceUrl('../../../../../assets/images/step.svg')\r\n      );\r\n    }\r\n    \r\n\r\n  ngOnInit() {   \r\n    \r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { take, map } from 'rxjs/operators';\r\n\r\nimport { environment } from 'src/environments/environment';\r\nimport { Product } from '../../../../interfaces/product';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { Image } from 'src/app/interfaces/resultado';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PublishService {\r\n\r\n  public publicationSubject$: BehaviorSubject<Product> = new BehaviorSubject<Product>(null);\r\n  public publication: Observable<Product>;\r\n\r\n  constructor(\r\n    private _http: HttpClient,\r\n    private route: Router,\r\n    private activateRoute: ActivatedRoute\r\n  ) {\r\n\r\n    this.publication = this.publicationSubject$.asObservable();\r\n    console.log(this.publicationValue);\r\n    \r\n  }\r\n\r\n\r\n  public get publicationValue(): Product {\r\n    return this.publicationSubject$.value;\r\n  }\r\n\r\n  ////Recupera Publicación\r\n  getPublicationById(id:number){\r\n    return this._http.get<Product>(`${environment.API}product/${id}`).pipe(\r\n      take(1)\r\n    ).subscribe(\r\n      res =>{\r\n        this.publicationSubject$.next(res)\r\n        console.log(this.publicationValue);\r\n        \r\n      },\r\n      error => this.route.navigate(['/vender/step1'])\r\n    )\r\n  }\r\n\r\n\r\n  ///guarda primera vez publicación y queda como pendiente hasta el último Step\r\n  addPublication(data) {\r\n    return this._http.post<Product>(`${environment.API}product`, data).pipe(\r\n      take(1)\r\n    ).subscribe(\r\n      res => {\r\n        this.publicationSubject$.next(res)\r\n        console.log(res)\r\n        this.route.navigate(['/vender/step2', this.publicationValue.id ])\r\n      },\r\n      error => { console.log(error) }\r\n    )\r\n  }\r\n\r\n  ///Actualiza publicación con cada Step que la llama\r\n  updatePublication(data: Product, Step: string) {\r\n\r\n    const publicationId = this.publicationValue.id\r\n    const nexStep = `${Step}/${publicationId}`\r\n\r\n    return this._http.put<Product>(`${environment.API}product/${publicationId}`, data).pipe(\r\n      take(1)\r\n    ).subscribe(\r\n      res => {\r\n        this.publicationSubject$.next(res)\r\n        console.log(res)\r\n        this.route.navigate([nexStep])\r\n      },\r\n      error => { console.log(error) }\r\n    )\r\n  }\r\n\r\n\r\n  uploadProductImage(publicationID: number, files: FileList, index?: number) {\r\n\r\n    const formData = new FormData();\r\n    console.log(files);\r\n\r\n    for (let i = 0; i < files.length; i++) {\r\n      formData.append('images[]', files[i])\r\n      // formData.append(\"_method\", \"PUT\")\r\n    }\r\n\r\n    formData.append(\"_method\", \"PUT\")\r\n\r\n    return this._http.post(`${environment.API}product/${publicationID}`, formData, {\r\n      observe: 'events',\r\n      reportProgress: true\r\n    })\r\n  }\r\n\r\n  updateImage(data){\r\n    data.map(\r\n      d => this._http.put(`${environment.API}image/${d.id}`, d).pipe(take(1)).subscribe()\r\n    )\r\n  }\r\n\r\n  removeImageId(imageID) {\r\n    return this._http.delete<Image>(`${environment.API}image/${imageID}`)\r\n    .pipe(take(1))\r\n    .subscribe(\r\n      \r\n      res=> {\r\n        console.log(res);\r\n        this.publicationSubject$.next(res.products[0])\r\n      }\r\n    );\r\n  }\r\n  // getPublication(){\r\n  //   return\r\n  // }\r\n\r\n}\r\n","<div class=\"container\">\r\n    <div class=\"logo\">\r\n        <a [routerLink]=\"[ '/' ]\"><img src=\"../../../assets/images/logo.svg\" alt=\"\"></a>\r\n    </div>\r\n    <div class=\"user-actions\">\r\n        <user-actions-component [color] = \"'black'\"></user-actions-component>\r\n    </div>\r\n    <mat-card class=\"content\" [perfectScrollbar]=\"config\">\r\n        <mat-card-header>\r\n            <mat-card-title  class=\"header-box-ventas\">\r\n                <ul>\r\n                    <li><a [routerLink]=\"[ '/vender/step1/' ]\" routerLinkActive=\"active\"><span class=\"icon\">1</span><span class=\"text\">Selecciona un Vehículo</span></a></li>\r\n                    <li><a [routerLink]=\"[ '/vender/step2/' ]\" routerLinkActive=\"active\"><span class=\"icon\">2</span><span class=\"text\">Ficha Técnica</span></a></li>\r\n                    <li><a [routerLink]=\"[ '/vender/step3/' ]\" routerLinkActive=\"active\"><span class=\"icon\">3</span><span class=\"text\">Imágenes</span></a></li>\r\n                    <li><a [routerLink]=\"[ '/vender/step4/' ]\" routerLinkActive=\"active\"><span class=\"icon\">4</span><span class=\"text\">Datos extra del Vehículo</span></a></li>\r\n                    <li><a [routerLink]=\"[ '/vender/step5/' ]\" routerLinkActive=\"active\"><span class=\"icon\">5</span><span class=\"text\">Como quieres vender tu vehículo?</span></a></li>\r\n                </ul>\r\n\r\n            </mat-card-title>\r\n        </mat-card-header>\r\n        <mat-card-content>\r\n            <router-outlet></router-outlet>\r\n        </mat-card-content>\r\n    </mat-card>\r\n\r\n</div>\r\n","\r\n<mat-card class=\"container\">\r\n    <mat-card-header>\r\n        <mat-card-title>Paso 1 - Selecciona un Vehículo</mat-card-title>\r\n    </mat-card-header>\r\n        \r\n    <div class=\"container-ventas\">\r\n    <form class=\"form\" [formGroup]=\"formStep1\" (ngSubmit)=\"submitStep1()\">\r\n        <div class=\"content-form\">\r\n            <div class=\"searcher\">\r\n                <mat-form-field class=\"category\">\r\n                    <mat-label>Tipo Vehículo</mat-label>\r\n                    <mat-select formControlName=\"vehicle_category_id\" [(value)]=\"categoryId\">\r\n                        <mat-option *ngFor=\"let category of categories\" [value]='category.id'>\r\n                            {{ category.name }}\r\n                        </mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n        \r\n        \r\n                <mat-form-field class=\"brand\">\r\n                    <mat-label>Marca</mat-label>\r\n        \r\n                    <mat-select formControlName=\"brand_id\" (selectionChange)=\"changeBrand($event.value)\">\r\n                        <mat-option>Ninguna marca</mat-option>\r\n                        <mat-option *ngFor=\"let brand of brands\" [value]='brand.id'>{{ brand.name }}</mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n        \r\n                <mat-form-field class=\"model\">\r\n                    <mat-label>Modelo</mat-label>\r\n                    <mat-select formControlName=\"vehicle_model_id\" (selectionChange)=\"changeModel($event.value)\">\r\n                        <mat-option>Ningún modelo</mat-option>\r\n                        <mat-option *ngFor=\"let model of models\" [value]='model.id'>{{ model.name }}</mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n                <mat-form-field class=\"sub-model\">\r\n                    <mat-label>sub-Modelo</mat-label>\r\n                    <mat-select formControlName=\"vehicle_sub_model_id\">\r\n                        <mat-option>Ningún sub-Modelo</mat-option>\r\n                        <mat-option *ngFor=\"let subModel of subModels\" [value]='subModel.id'>{{ subModel.name }}</mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n                <mat-form-field class=\"year\">\r\n                    <mat-label>Año</mat-label>\r\n                    <mat-select formControlName=\"year\">\r\n                        <mat-option>Todos</mat-option>\r\n                        <mat-option *ngFor=\"let ano of anos\" [value]='ano.value'>{{ ano.option}}</mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n                <mat-form-field class=\"condition\">\r\n                    <mat-label>Condición</mat-label>\r\n                    <mat-select formControlName=\"condition_id\"  (selectionChange)= \"onConditionChanged($event)\">\r\n                        <mat-option>Todos</mat-option>\r\n                        <mat-option *ngFor=\"let condition of conditions | async\" [value]='condition.id'>{{ condition.name }}</mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>     \r\n                <mat-form-field class=\"recorrido\">\r\n                    <mat-label>km recorridos</mat-label>\r\n                    <input formControlName=\"km\" matInput>                 \r\n                </mat-form-field>\r\n                <mat-form-field class=\"price-condition\">\r\n                    <mat-label>Condición de Precio</mat-label>\r\n                    <mat-select formControlName=\"price_condition_id\">\r\n                        <mat-option>Todos</mat-option>\r\n                        <mat-option *ngFor=\"let pricecond of priceConditions | async\" [value]='pricecond.id'>{{ pricecond.name }}</mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>                           \r\n                <div class=\"price-content\">\r\n                    <mat-form-field class=\"currency\" >\r\n                        <mat-label>Moneda</mat-label>\r\n                        <mat-select formControlName=\"currency_id\">\r\n                            <mat-option *ngFor=\"let currency of currencies | async\" [value]='currency.id'>{{ currency.symbol }}</mat-option>\r\n                        </mat-select>\r\n                    </mat-form-field>  \r\n                    <mat-form-field class=\"price\">\r\n                        <mat-label>Precio</mat-label>\r\n                        <input formControlName=\"price\" matInput>                 \r\n                    </mat-form-field>\r\n                </div>        \r\n        \r\n            </div>\r\n            <div class=\"content-btns\"> \r\n                <button  class=\"btn-second nex\" mat-button [disabled]=\"!formStep1.valid\" >Continuar</button>\r\n            </div>\r\n\r\n        </div>\r\n    \r\n    \r\n    </form>\r\n\r\n</div>\r\n</mat-card>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { PublishService } from 'src/app/web/admin/ventas/services/publish.service';\r\nimport { AuthService } from 'src/app/auth/auth.service';\r\nimport { Validators, FormGroup, FormBuilder } from '@angular/forms';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { User } from 'src/app/interfaces/user';\r\nimport { VehicleCategory, Brand, VehicleModel, VehicleSubModel, NameConcat } from 'src/app/interfaces/resultado';\r\nimport { Product } from 'src/app/interfaces/product';\r\nimport { SettingApiService } from 'src/app/web/admin/setting-api/services/setting-api.service';\r\n\r\n@Component({\r\n  selector: 'app-step1',\r\n  templateUrl: './step1.component.html',\r\n  styleUrls: ['./step1.component.scss']\r\n})\r\nexport class Step1Component implements OnInit {\r\n  formStep1: FormGroup;\r\n  data: any;\r\n  categories: VehicleCategory[];\r\n  brands: Brand[];\r\n  models: VehicleModel[];\r\n  subModels: VehicleSubModel[];\r\n  nameConcat: NameConcat = {brand_id: null,vehicle_model_id: null,vehicle_sub_model_id: null};\r\n  categoryId: number;\r\n  brandId: number;\r\n  conditions: any;\r\n  precios: any = [];\r\n  anos: any[];\r\n  currencies: any;\r\n  priceCondition: any;\r\n  priceConditions: any;\r\n  publication: Product;\r\n  update: boolean = false;\r\n\r\n  constructor(\r\n    private _settingApiServises: SettingApiService,\r\n    private _publishService: PublishService,\r\n    private _authService: AuthService,\r\n    private _fb: FormBuilder,\r\n    private route: Router,\r\n    private activateRoute: ActivatedRoute\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.activateRoute.params.subscribe(\r\n      (param: Params) => {\r\n        if (param.id) {\r\n          this._publishService.getPublicationById(param.id)\r\n          this.getPublication();\r\n\r\n        } else {\r\n          this.route.navigate(['/vender/step1'])\r\n        }\r\n        // console.log(param.id);\r\n        \r\n      }\r\n    )\r\n    this.generaFormStep1()\r\n  }\r\n\r\n  private getPublication() {\r\n\r\n\r\n    this._publishService.publication.subscribe(\r\n      res =>{ \r\n        this.publication = res\r\n\r\n        if(this.formStep1){\r\n          this.selectModel(this.publication.brand_id);\r\n          this.selectSubModel(this.publication.vehicle_model_id);\r\n\r\n          this.formStep1.setValue({\r\n            user_id: this.publication.user_id,\r\n            vehicle_category_id: this.publication.vehicle_category_id,\r\n            brand_id: this.publication.brand_id,\r\n            vehicle_model_id: this.publication.vehicle_model_id,\r\n            vehicle_sub_model_id: this.publication.vehicle_sub_model_id,\r\n            year: this.publication.year,\r\n            price: this.publication.price,\r\n            condition_id: this.publication.condition_id,\r\n            km: this.publication.km,\r\n            state: this.publication.state,\r\n            currency_id: this.publication.currency_id,\r\n            city_id: this.publication.city_id,\r\n            neighborhood_id: this.publication.neighborhood_id,\r\n            price_condition_id: this.publication.price_condition_id,\r\n          });\r\n\r\n        }\r\n        this.update = true;\r\n\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  private generaFormStep1() {\r\n    const user: User = this._authService.currentUserValue.user\r\n\r\n    this.formStep1 = this._fb.group({\r\n      user_id: user.id,\r\n      vehicle_category_id: [1, Validators.required],\r\n      brand_id: [null, Validators.required],\r\n      vehicle_model_id: [null, Validators.required],\r\n      vehicle_sub_model_id: [null],\r\n      year: [null, Validators.required],\r\n      price: [0, Validators.required],\r\n      condition_id: [null, Validators.required],\r\n      km: [0],\r\n      state: ['PEN'],\r\n      currency_id: [2, Validators.required],\r\n      city_id: [user.city_id],\r\n      neighborhood_id: [user.neighborhood_id],\r\n      price_condition_id: [null],\r\n    });\r\n\r\n    this.selectCategory()\r\n    this.selectBrand()\r\n    this.selectAnos()\r\n    this.selectCondition()\r\n    this.selectPrecios()\r\n    this.selectCurrency()\r\n    this.selectPriceCondition()\r\n  }\r\n\r\n\r\n  submitStep1() {\r\n\r\n\r\n    this.data = this.formStep1.value\r\n    console.log(this.data);\r\n\r\n    // if (this.data.vehicle_category_id) {\r\n    //   this.idToSlug('vehicle_category_id', this.categories)\r\n    // }\r\n    if (this.data.brand_id) {\r\n      this.idToSlug('brand_id', this.brands , this.data)\r\n    }\r\n    if (this.data.vehicle_model_id) {\r\n      this.idToSlug('vehicle_model_id', this.models , this.data)\r\n    }\r\n    if (this.data.vehicle_sub_model_id) {\r\n      this.idToSlug('vehicle_sub_model_id', this.subModels, this.data)\r\n    }\r\n    // this.cleanObjet(this.data)\r\n    console.log(this.nameConcat);\r\n\r\n    this.data.name_concat = `${this.nameConcat.brand_id} ${this.nameConcat.vehicle_model_id} ${this.nameConcat.vehicle_sub_model_id}`;\r\n\r\n    console.log(this.data);\r\n\r\n\r\n////actualiza o agrega\r\n    if(this.update){\r\n      const nexStep = \"/vender/step2\"\r\n\r\n      return this._publishService.updatePublication(this.data, nexStep)\r\n\r\n    }else{\r\n      return this._publishService.addPublication(this.data)\r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  idToSlug(campo: string, arrCampo: any, data) {\r\n\r\n    let campoSlug = arrCampo.filter(item => item.id == data[campo])\r\n    this.nameConcat[campo] = `${campoSlug[0].name}`\r\n\r\n  }\r\n\r\n  changeCategory(e) {\r\n    this.categoryId = e;\r\n    this.selectBrand();\r\n    // console.log(this.categoryId);\r\n  }\r\n  changeBrand(e) {\r\n    if (e === undefined) {\r\n      this.models = [];\r\n      console.log(this.formStep1.value);\r\n\r\n      this.formStep1.patchValue({\r\n        vehicle_model_id: ''\r\n      })\r\n    } else {\r\n      this.brandId = e;\r\n      this.formStep1.patchValue({\r\n        vehicle_model_id: ''\r\n      })\r\n      this.selectModel(this.brandId);\r\n      // console.log(this.brandId);\r\n    }\r\n  }\r\n  changeModel(e) {\r\n    let modelId;\r\n    if (e === undefined) {\r\n      this.subModels = [];\r\n      console.log(this.formStep1.value);\r\n\r\n      this.formStep1.patchValue({\r\n        vehicle_sub_model_id: ''\r\n      })\r\n    } else {\r\n      modelId = e;\r\n      this.formStep1.patchValue({\r\n        vehicle_sub_model_id: ''\r\n      })\r\n      this.selectSubModel(modelId);\r\n      // console.log(this.brandId);\r\n    }\r\n  }\r\n\r\n  selectCategory() {\r\n    return this._settingApiServises.getCategory()\r\n      .subscribe(\r\n        (category: any) => {\r\n          \r\n          this.categories = category\r\n          // console.log(this.categories);\r\n        }\r\n      )\r\n  }\r\n\r\n  selectBrand() {\r\n    return this._settingApiServises.getBrands()\r\n    .subscribe(\r\n      (res:any)=>{\r\n        this.brands = res\r\n\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n  selectModel(brandId: number) {\r\n    return this._settingApiServises.getModelsByIDBrand(brandId)\r\n      .subscribe(\r\n        (res: any) => {\r\n          this.models = res.vehicle_models\r\n          // console.log(this.models)        \r\n        }\r\n      );\r\n  }\r\n  selectSubModel(modelId){\r\n    return this._settingApiServises.getSubModelByModelId(modelId)\r\n    .subscribe(\r\n      (res: any) => {\r\n        this.subModels = res.veicle_sub_models\r\n        // console.log(this.models)        \r\n      }\r\n    );\r\n  }\r\n\r\n  selectCondition() {\r\n    this.conditions = this._settingApiServises.getCondition()\r\n  }\r\n\r\n  onConditionChanged({value}){\r\n    if (value === 2) {\r\n      this.formStep1.get('km').enable()\r\n      this.formStep1.controls['km'].setValidators(Validators.required)\r\n\r\n    } else {\r\n      this.formStep1.get('km').disable()\r\n    }\r\n  }\r\n\r\n  selectPrecios() {\r\n    let value = 0\r\n    let arrprecios = Array(35);\r\n    for (let i = 0; i < arrprecios.length; i++) {\r\n      value = value + 100000;\r\n      this.precios.push({ 'value': value, 'option': value });\r\n    }\r\n    // let json= JSON.stringify(this.precios)\r\n    // console.log(this.precios);\r\n  }\r\n\r\n  selectAnos() {\r\n    let anos = [];\r\n    let anoAct = new Date().getFullYear();\r\n    for (let i = 1930; i <= anoAct; i++) {\r\n\r\n      anos.push({ 'value': i, 'option': i });\r\n    }\r\n    this.anos = anos.reverse();\r\n    // console.log(this.anos);\r\n  }\r\n  selectCurrency() {\r\n    this.currencies = this._settingApiServises.getCurrencies()\r\n  }\r\n  selectPriceCondition() {\r\n    this.priceConditions = this._settingApiServises.getPriceConditions()\r\n  }\r\n}\r\n","export class CheckboxItem {\r\n    value: string;\r\n    label: string;\r\n    checked: boolean;\r\n    \r\n    constructor(value: any, label: any, checked?: boolean) {\r\n        this.value = value;\r\n        this.label = label;\r\n        this.checked = checked ? checked : false;\r\n    }\r\n}","<form [formGroup]=\"form\">\r\n    <ul formArrayName=\"items\">\r\n        <li *ngFor=\"let item of items.controls; index as i\">\r\n            <mat-checkbox [formControlName]=\"i\">{{options[i].label}}</mat-checkbox>\r\n        </li>\r\n    </ul>\r\n</form>","import { Component, OnInit, Input, OnChanges, Output, EventEmitter } from '@angular/core';\r\nimport { CheckboxItem } from './CheckboxItem';\r\nimport { FormGroup, FormArray, FormControl } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'checkbox-group',\r\n  templateUrl: './checkbox-group.component.html',\r\n  styleUrls: ['./checkbox-group.component.scss']\r\n})\r\nexport class CheckboxGroupComponent implements OnInit, OnChanges {\r\n  @Input() options = Array<CheckboxItem>();\r\n  @Input() selectedValues = Array<string>();\r\n  @Output() toggle = new EventEmitter<any[]>();\r\n  form = new FormGroup({\r\n    items: new FormArray([])\r\n  });\r\n  constructor() { }\r\n  get items(): FormArray {\r\n    return this.form.get('items') as FormArray;\r\n  }\r\n\r\n\r\n\r\n  ngOnInit() {\r\n\r\n    this.form.valueChanges.subscribe(value => {\r\n     const optionsChecked = new Array<any>();\r\n\r\n     for (let index = 0; index < this.items.length; index++) {\r\n      const isOptionChecked = this.items.get(index.toString()).value;\r\n      if (isOptionChecked) {\r\n       const currentOptionValue = this.options[index].value;\r\n       optionsChecked.push(currentOptionValue);\r\n      }\r\n     }\r\n\r\n     this.toggle.emit(optionsChecked);\r\n    });\r\n\r\n    if(this.options){\r\n      this.selectedValues.forEach(value => {\r\n       const index: number = this.options.findIndex(opt => opt.value === value); \r\n       if (index >= 0) {\r\n         this.items.get(index.toString()).setValue(true);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  \r\n  ngOnChanges() {\r\n    if (this.items.length === 0 && this.options) {\r\n     this.options.forEach(x => {\r\n       this.items.push(new FormControl(false));\r\n     });\r\n    }\r\n    if(this.options){\r\n      this.selectedValues.forEach(value => {\r\n       const index: number = this.options.findIndex(opt => opt.value === value); \r\n       if (index >= 0) {\r\n         this.items.get(index.toString()).setValue(true);\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n\r\n   }\r\n\r\n\r\n  }\r\n\r\n","<mat-card class=\"container\" *ngIf=\"publication\">\r\n    <mat-card-header>\r\n        <mat-card-title>Paso 2 - Ficha Técnica</mat-card-title>\r\n    </mat-card-header>\r\n    <div class=\"content\">\r\n        <checkbox-group [options]=\"attrCheckboxes\" [selectedValues]=\"publicationAttributes\" (toggle)=\"attCheck($event,0)\">\r\n        </checkbox-group>\r\n        <mat-divider></mat-divider>\r\n\r\n    </div>\r\n    <div class=\"content\" *ngFor=\"let item of attrCheckboxesChildren; let i=index\">\r\n        <!-- <h5>{{ item.title }}</h5>\r\n    <checkbox-group [options]=\"item.attributes\" [selectedValues]=\"publicationAttributes\" (toggle)=\"attCheck($event, i+1)\">\r\n    </checkbox-group> -->\r\n\r\n\r\n        <ng-container *ngIf=\"item.multi_option === '1'; else elseTemplate\">\r\n\r\n            <label>{{ item.title }}</label>\r\n            <mat-radio-group class=\"radio-group\" [value]=\"value(item.attributes, i+1)\">\r\n                <mat-radio-button class=\"radio-button\" *ngFor=\"let sItem of item.attributes\" [value]=\"sItem.value\"\r\n                    (change)=\"attCheck($event.value, i+1)\">\r\n                    {{sItem.label}}\r\n                </mat-radio-button>\r\n            </mat-radio-group>\r\n            <mat-divider [inset]=\"true\"></mat-divider>\r\n\r\n        </ng-container>\r\n\r\n        <ng-template #elseTemplate>\r\n\r\n            <label>{{ item.title }}</label>\r\n            <checkbox-group [options]=\"item.attributes\" [selectedValues]=\"publicationAttributes\"\r\n                (toggle)=\"attCheck($event, i+1)\">\r\n            </checkbox-group>\r\n            <mat-divider></mat-divider>\r\n        </ng-template>\r\n    </div>\r\n\r\n    <div class=\"content-btns\">\r\n        <button mat-button (click)=\"back()\" routerLinkActive=\"active\">Atras</button>\r\n        <button class=\"btn-second nex\" mat-button (click)=\"submitStep2()\">Siguiente</button>\r\n    </div>\r\n\r\n</mat-card>","import { Component, OnInit, Attribute, OnChanges } from '@angular/core';\r\nimport { PublishService } from '../../../services/publish.service';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { Product } from 'src/app/interfaces/product';\r\nimport { take } from 'rxjs/operators';\r\nimport { SettingApiService } from 'src/app/web/admin/setting-api/services/setting-api.service';\r\nimport { CheckboxItem } from 'src/app/shared/checkbox-group/CheckboxItem';\r\n\r\n@Component({\r\n  selector: 'app-step2',\r\n  templateUrl: './step2.component.html',\r\n  styleUrls: ['./step2.component.scss']\r\n})\r\nexport class Step2Component implements OnInit {\r\n\r\n  attributes: any;\r\n  subAttr: any;\r\n  attrCheckboxes: any;\r\n  attrCheckboxesChildren: any;\r\n  groupCheckbox: any=[];\r\n  publicationAttributes: any;\r\n  publication: Product;\r\n\r\n\r\n\r\n  constructor(\r\n    private _settingApiServises: SettingApiService,\r\n    private _publishService: PublishService,\r\n    private route: Router,\r\n    private activateRoute: ActivatedRoute\r\n    ) { \r\n\r\n  }\r\n  ngOnInit() {\r\n    \r\n    this.activateRoute.params.subscribe(\r\n      (param: Params) => {\r\n        if (param.id) {\r\n          this._publishService.getPublicationById(param.id)\r\n          this.getPublication()\r\n        } else {\r\n          this.route.navigate(['/vender/step1'])\r\n        }\r\n        // console.log(param.id);\r\n        \r\n        this.selectAttributes();\r\n      }\r\n    )\r\n\r\n    \r\n\r\n  }\r\n\r\n  private getPublication() {\r\n    this._publishService.publication.subscribe(\r\n      res => {\r\n        this.publication = res\r\n        this.selectValues()\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n\r\n  ////////SUBMIT\r\n  submitStep2() {\r\n    const attributes = this.groupCheckbox.flat()\r\n    console.log(attributes);\r\n    \r\n    const data = {'attributes': attributes}\r\n    \r\n\r\n    \r\n    \r\n    this.udatePublication(data);\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  udatePublication(data) {\r\n    console.log(data);\r\n    const nexStep = \"/vender/step3\"\r\n    return this._publishService.updatePublication(data, nexStep)\r\n\r\n  }\r\n\r\n  back(){\r\n    const urlBack = `/vender/step1/${this.publication.id}`\r\n    this.route.navigate([urlBack]);\r\n  }\r\n\r\n  selectAttributes() {\r\n    this._settingApiServises.getAttributes()\r\n      .pipe(\r\n        take(1)\r\n      )\r\n      .subscribe(\r\n        attr => {\r\n          this.attributes = attr\r\n\r\n          this.attrCheckboxes = this.attributes\r\n            .filter(x => !x.attributes.length)\r\n            .map(\r\n              x => {\r\n                return new CheckboxItem(x.id, x.name)\r\n              }\r\n            );\r\n\r\n          this.attrCheckboxesChildren = this.attributes\r\n            .filter(x => x.attributes.length)\r\n            .map(\r\n              x => {\r\n                let children = \r\n                  {\r\n                    title: x.name,\r\n                    attributes: x.attributes.map(x=> new CheckboxItem(x.id, x.name)),\r\n                    multi_option: x.multi_option\r\n                  }\r\n                \r\n\r\n                return children;\r\n              }\r\n              \r\n            )\r\n          \r\n          // this.addCheckboxesAttributes()\r\n          \r\n            console.log();\r\n            \r\n        }\r\n      );\r\n  }\r\n\r\n  attCheck(event, group) {\r\n    this.groupCheckbox[group] = event;\r\n  }\r\n\r\n\r\n  value(valores,i){\r\n    // console.log(this.publicationAttributes);\r\n\r\n    const n = valores.map(\r\n                a => { \r\n                  const ch = this.publicationAttributes.find(b => b === a.value)\r\n                  // console.log(ch);\r\n                  return ch\r\n                  \r\n                }\r\n              )\r\n    const che = n.filter(x=> x !== undefined)\r\n    // this.attCheck(che[0], i)\r\n\r\n    return che[0];\r\n      \r\n  }\r\n\r\n\r\n  selectValues(){\r\n    \r\n    this._publishService.publication.pipe(take(1)).subscribe(\r\n      res => {\r\n        console.log(res);\r\n        \r\n        if(res && res.attributes.length != 0){\r\n        this.publicationAttributes = res.attributes.map(v=> v.id)\r\n    //   console.log(this.publicationAttributes);\r\n        }else{\r\n          this.publicationAttributes = []\r\n        }\r\n      }\r\n    )\r\n\r\n    // const values = this._publishService.publicationValue;\r\n    // if(values){\r\n    //   this.publicationAttributes = values.attributes.map(v=> v.id)\r\n    //   console.log(this.publicationAttributes);\r\n      \r\n    // }else{\r\n      \r\n    //   this.publicationAttributes = []\r\n    // }\r\n    \r\n    \r\n  }\r\n}\r\n","<div class=\"container\">\r\n    <div class=\"upload\">\r\n        <label for=\"file\">\r\n            <div class=\"image-input\">\r\n                    <img [src]=\"'../../../../../../../../assets/images/no-image.svg'\" alt=\"Subir Imagen\">\r\n            </div>\r\n        </label>\r\n        <input id=\"file\" hidden type=\"file\" (change)=\"uploadImage($event)\" multiple >\r\n    </div>\r\n    <div class=\"instructions\">\r\n\r\n    </div>\r\n</div>\r\n    <div cdkDropList cdkDropListOrientation=\"horizontal\" class=\"list\" (cdkDropListDropped)=\"drop($event)\">\r\n        <div class=\"box\" *ngFor=\"let image of publication.images\" cdkDrag (mouseover)= \"showDelete = true\" (mouseleave)=\"showDelete = false\" >\r\n            <mat-icon (click)=\"removeImage(image.id)\" *ngIf=\"showDelete\" class=\"delete-image\" color=\"warn\">delete</mat-icon>\r\n            <img [src]=\"image.url || '../../../../../../../../assets/images/no-image.svg'\" alt=\"\">\r\n        </div>\r\n    </div>\r\n\r\n","import { Component, OnInit, AfterViewInit, SimpleChanges, OnChanges, Input } from '@angular/core';\r\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { PublishService } from '../../../../services/publish.service';\r\nimport { Images, Product } from 'src/app/interfaces/product';\r\nimport { Observable } from 'rxjs';\r\nimport { HttpEvent, HttpEventType } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'images-drag-drop',\r\n  templateUrl: './images-drag-drop.component.html',\r\n  styleUrls: ['./images-drag-drop.component.scss']\r\n})\r\nexport class ImagesDragDropComponent implements OnInit {\r\n  @Input('images') images: Images[];\r\n  @Input('publication')publication : Product;\r\n  publication_res: Object;\r\n  progress: number;\r\n  showDelete : boolean = false;\r\n\r\n  constructor(\r\n    private _publishService: PublishService,\r\n\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    console.log(this.images);\r\n\r\n  }\r\n\r\n\r\n\r\n  drop(event: CdkDragDrop<string[]>) {\r\n\r\n    moveItemInArray(this.images, event.previousIndex, event.currentIndex);\r\n    console.log(this.images);\r\n    const imagePosition = this.images.map((v,i)=> {\r\n      return {id: v.id , position: i}\r\n    })\r\n    console.log(imagePosition);\r\n\r\n    this._publishService.updateImage(imagePosition)\r\n\r\n  }\r\n\r\n\r\n  uploadImage(e) {\r\n\r\n    console.log(e);\r\n    \r\n    if (e.target.files && e.target.files[0]) {\r\n      const selectedFiles = <FileList>e.target.files;\r\n\r\n      const fileNames = [];\r\n      // console.log(selectedFiles);\r\n\r\n      // console.log(this.files);\r\n\r\n      this._publishService.uploadProductImage(this.publication.id, selectedFiles)\r\n        .subscribe(\r\n          (event: HttpEvent<Object>) => {\r\n\r\n            // console.log(event);\r\n            if (event.type === HttpEventType.Response) {\r\n              console.log('Upload Concluído');\r\n              console.log(event.body);\r\n              this._publishService.publicationSubject$.next(event.body);\r\n              \r\n            } else if (event.type === HttpEventType.UploadProgress) {\r\n              const percentDone = Math.round((event.loaded * 100) / event.total);\r\n              // console.log('Progresso', percentDone);\r\n              this.progress = percentDone;\r\n            }\r\n          }\r\n        )\r\n    }\r\n\r\n  }\r\n\r\n\r\n \r\n  removeImage(id: number){\r\n    this._publishService.removeImageId(id)\r\n  }\r\n\r\n\r\n}\r\n","<mat-card class=\"container\" *ngIf=\"publication\" >\r\n    <mat-card-header>\r\n        <mat-card-title>Paso 3 - Imágenes</mat-card-title>\r\n    </mat-card-header>\r\n    <div class=\"content\">\r\n\r\n        <div class=\"upload\">\r\n            <images-drag-drop [images]=\"publication.images\" [publication]= \"publication\"></images-drag-drop>\r\n        </div>\r\n        \r\n        <div class=\"content-btns\"> \r\n            <button mat-button  (click)=\"back()\" >Atras</button>\r\n            <button class=\"btn-second nex\" (click)=\"onSubmit()\" [disabled]=\"btnDisabled\" mat-button >Siguiente</button>\r\n        </div>\r\n    </div>\r\n</mat-card>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { PublishService } from '../../../services/publish.service';\r\nimport { take } from 'rxjs/operators';\r\nimport { Params, Router, ActivatedRoute } from '@angular/router';\r\nimport { Product } from 'src/app/interfaces/product';\r\nimport { SettingApiService } from 'src/app/web/admin/setting-api/services/setting-api.service';\r\n\r\n@Component({\r\n  selector: 'app-step3',\r\n  templateUrl: './step3.component.html',\r\n  styleUrls: ['./step3.component.scss']\r\n})\r\nexport class Step3Component implements OnInit {\r\n  formStep3: FormGroup;\r\n  extras: any[];\r\n  publicationID: number;\r\n  progress: number;\r\n  images: any;\r\n  publication: Product;\r\n  btnDisabled: boolean = false;\r\n\r\n\r\n  constructor(\r\n    private _fb: FormBuilder,\r\n    private _publishService: PublishService,\r\n    private _settingApiServises: SettingApiService,\r\n    private route: Router,\r\n    private activateRoute: ActivatedRoute\r\n\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.activateRoute.params.subscribe(\r\n      (param: Params) => {\r\n        if (param.id) {\r\n          this._publishService.getPublicationById(param.id)\r\n          this.getPublication()\r\n         \r\n\r\n        } else {\r\n          this.route.navigate(['/vender/step1'])\r\n        }\r\n\r\n      }\r\n    )\r\n\r\n\r\n    \r\n  }\r\n\r\n  onSubmit(){\r\n    if(this.publication.images.length >= 1){\r\n      this.btnDisabled = true;\r\n      this.route.navigate([`/vender/step4/${this.publication.id}`])\r\n    }\r\n  }\r\n\r\n  private getPublication() {\r\n    this._publishService.publication.subscribe(\r\n      res => {\r\n        this.publication = res\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n  back(){\r\n    const urlBack = `/vender/step2/${this.publication.id}`\r\n    this.route.navigate([urlBack]);\r\n  }\r\n\r\n\r\n}\r\n","<mat-card class=\"container\" *ngIf=\"publication\" >\r\n    <mat-card-header>\r\n        <mat-card-title>Paso 4 - Datos extra del Vehículo</mat-card-title>\r\n    </mat-card-header>\r\n    <div class=\"content\">\r\n       <!-- ////extras -->\r\n\r\n\r\n        \r\n        <div class=\"extras\">\r\n            <mat-card-header>\r\n                <mat-card-title>Cuentanos que lo hace único</mat-card-title>\r\n            </mat-card-header>\r\n\r\n            <checkbox-group [options]=\"checkboxes\" [selectedValues]=\"publicationExtras\" (toggle)=\"attCheck($event,0)\">\r\n            </checkbox-group>\r\n    \r\n        </div>\r\n\r\n        \r\n        <form *ngIf=\"formStep3\" [formGroup]=\"formStep3\" >\r\n\r\n            <mat-card-header>\r\n                <mat-card-title>Describe tu vehículo</mat-card-title>\r\n            </mat-card-header>\r\n            <div class=\"description\">\r\n                <mat-form-field class=\"text-description\" appearance=\"outline\">\r\n                    <textarea formControlName=\"description\"  matInput #description maxlength=\"1000\" placeholder=\"Descripción\"></textarea>\r\n                    <mat-hint align=\"start\"><strong>Por su seguridad no introdusca datos personales</strong> </mat-hint>\r\n                    <mat-hint align=\"end\">{{description.value.length}} / 1000</mat-hint>\r\n                </mat-form-field>\r\n            </div>\r\n            <div class=\"content-btns\"> \r\n                <button mat-button  (click)=\"back()\">Atras</button>\r\n                <button class=\"btn-second nex\" mat-button [disabled]=\"!formStep3.valid\" (click)=\"submitStep3()\" >Siguiente</button>\r\n            </div>\r\n        </form>\r\n\r\n    </div>\r\n</mat-card>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { PublishService } from '../../../services/publish.service';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { SettingApiService } from 'src/app/web/admin/setting-api/services/setting-api.service';\r\nimport { Product } from 'src/app/interfaces/product';\r\nimport { take } from 'rxjs/operators';\r\nimport { CheckboxItem } from 'src/app/shared/checkbox-group/CheckboxItem';\r\n\r\n@Component({\r\n  selector: 'app-step4',\r\n  templateUrl: './step4.component.html',\r\n  styleUrls: ['./step4.component.scss']\r\n})\r\nexport class Step4Component implements OnInit {\r\n  formStep3: FormGroup;\r\n  extras: any[];\r\n  publicationID: number;\r\n  extraIterable: any;\r\n  publication: Product;\r\n  checkboxes: any;\r\n  publicationExtras: number[];\r\n  groupCheckbox: any;\r\n\r\n  constructor(\r\n    private _fb: FormBuilder,\r\n    private _publishService: PublishService,\r\n    private _settingApiServises: SettingApiService,\r\n    private route: Router,\r\n    private activateRoute: ActivatedRoute\r\n\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.activateRoute.params.subscribe(\r\n      (param: Params) => {\r\n        if (param.id) {\r\n          this._publishService.getPublicationById(param.id)\r\n          this.getPublication()\r\n         \r\n\r\n        } else {\r\n          this.route.navigate(['/vender/step1'])\r\n        }\r\n\r\n\r\n        this.selectExtras();\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n\r\n  \r\n  private generaFormStep3() {\r\n    this.formStep3 = this._fb.group({\r\n      description: [null, Validators.maxLength(1000)]\r\n    });\r\n\r\n\r\n  }\r\n\r\n  submitStep3() {\r\n    const extras = this.groupCheckbox.flat()\r\n    console.log(extras);\r\n    const description = this.formStep3.controls.description.value\r\n    const data = {\r\n      'description': description,\r\n      'extras': extras,\r\n    }\r\n    this.udatePublication(data);\r\n\r\n  }\r\n\r\n\r\n\r\n  udatePublication(data) {\r\n    console.log(data);\r\n    const nexStep = \"/vender/step5\"\r\n    return this._publishService.updatePublication(data, nexStep)\r\n  }\r\n\r\n\r\n  private getPublication() {\r\n    this._publishService.publication.subscribe(\r\n      res => {\r\n        this.publication = res\r\n        this.selectValues()\r\n      }\r\n    )\r\n\r\n  }\r\n  \r\n  \r\n  selectExtras() {\r\n    this._settingApiServises.getExtras()\r\n      .pipe(\r\n        take(1)\r\n      )\r\n      .subscribe(\r\n        (attr: any) => {\r\n          \r\n          console.log(attr);\r\n          \r\n          this.checkboxes = attr\r\n          .map(\r\n            x => {\r\n              return new CheckboxItem(x.id, x.name)\r\n            }\r\n            );\r\n            \r\n            if(this.checkboxes){\r\n              \r\n            }\r\n          console.log(this.checkboxes);\r\n\r\n          // this.addCheckboxesAttributes()\r\n\r\n        }\r\n      );\r\n  }\r\n\r\n  selectValues() {\r\n\r\n    this._publishService.publication.pipe(take(1)).subscribe(\r\n      res => {\r\n        console.log(res);\r\n        \r\n        if (res) {\r\n          this.publicationExtras = res.extras.map(v => v.id)\r\n          console.log(this.publicationExtras);\r\n          \r\n        } else {\r\n          this.publicationExtras = []\r\n        }\r\n        this.generaFormStep3();\r\n\r\n\r\n      }\r\n\r\n    )\r\n\r\n    ////Valor Descripción\r\n    if (this.publication) {\r\n      const descriptionText = this.publication.description\r\n      this.formStep3.patchValue({\r\n        description: descriptionText\r\n      })\r\n\r\n    }\r\n\r\n  }\r\n\r\n  attCheck(event, group) {\r\n    // console.log(event);\r\n    // \r\n    this.groupCheckbox = event;\r\n\r\n    // console.log(this.groupCheckbox);\r\n\r\n  }\r\n\r\n\r\n\r\n  back(){\r\n    const urlBack = `/vender/step3/${this.publication.id}`\r\n    this.route.navigate([urlBack]);\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Params, ActivatedRoute, Router } from '@angular/router';\r\nimport { PublishService } from '../../../services/publish.service';\r\n\r\n@Component({\r\n  selector: 'app-step5',\r\n  templateUrl: './step5.component.html',\r\n  styleUrls: ['./step5.component.scss']\r\n})\r\nexport class Step5Component implements OnInit {\r\n\r\n  constructor(\r\n    private route: Router,\r\n    private activateRoute: ActivatedRoute,\r\n    private _publishService: PublishService,\r\n\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.activateRoute.params.subscribe(\r\n      (param: Params) => {\r\n        if (param.id) {\r\n          this._publishService.getPublicationById(param.id)\r\n          \r\n\r\n        } else {\r\n          this.route.navigate(['/vender/step1'])\r\n        }\r\n\r\n\r\n      }\r\n    )\r\n\r\n  }\r\n\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthGuard } from './auth/guards/auth.guard';\r\nimport { VenderComponent } from './web/admin/ventas/vender/vender.component';\r\nimport { Step1Component } from './web/admin/ventas/vender/steps/step1/step1.component';\r\nimport { Step2Component } from './web/admin/ventas/vender/steps/step2/step2.component';\r\nimport { Step3Component } from './web/admin/ventas/vender/steps/step3/step3.component';\r\nimport { Step4Component } from './web/admin/ventas/vender/steps/step4/step4.component';\r\nimport { Step5Component } from './web/admin/ventas/vender/steps/step5/step5.component';\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n\r\n  {\r\n    path: 'mi-cuenta',\r\n    loadChildren: () => import('./web/admin/admin.module').then(m => m.AdminModule),\r\n    canActivate: [AuthGuard]\r\n  },\r\n  {\r\n    path: 'auth',\r\n    loadChildren: () => import('./auth/auth.module').then(m => m.AuthModule)\r\n\r\n  },\r\n  {\r\n    path: 'vender',\r\n    component: VenderComponent,\r\n    canActivate:[AuthGuard],\r\n    children: [\r\n      {\r\n        path: 'step1/:id',\r\n        component: Step1Component\r\n      },\r\n      {\r\n        path: 'step1',\r\n        component: Step1Component\r\n      },\r\n      {\r\n        path: 'step2/:id',\r\n        component: Step2Component\r\n      },\r\n      {\r\n        path: 'step2',\r\n        component: Step2Component\r\n      },\r\n      {\r\n        path: 'step3/:id',\r\n        component: Step3Component\r\n      },\r\n      {\r\n        path: 'step3',\r\n        component: Step3Component\r\n      },\r\n      {\r\n        path: 'step4/:id',\r\n        component: Step4Component\r\n      },\r\n      {\r\n        path: 'step4',\r\n        component: Step4Component\r\n      },\r\n      {\r\n        path: 'step5/:id',\r\n        component: Step5Component\r\n      },\r\n      {\r\n        path: 'step5',\r\n        component: Step5Component\r\n      },\r\n\r\n    ]\r\n  },\r\n  {\r\n    path: '',\r\n    loadChildren: () => import('./web/pages/pages.module').then(m => m.PagesModule)\r\n  },\r\n  {\r\n    path: '**',\r\n    loadChildren: () => import('./web/pages/pages.module').then(m => m.PagesModule)\r\n  },\r\n\r\n  // {\r\n  //   path : 'admin',\r\n  //   loadChildren: './app-layout/app-layout.module#AppLayoutModule',\r\n  //   canActivate: [AuthGuard]\r\n  // },\r\n  // { \r\n  //   path: '**', \r\n  //   redirectTo: '' \r\n  // }\r\n\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, {\r\n    initialNavigation: 'enabled'\r\n})],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable()\r\n\r\nexport class AuthInterceptor implements HttpInterceptor {\r\n    constructor() {}\r\n\r\n    intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        const requestUrl: Array<any> = req.url.split('/');\r\n        const apiUrl: Array<any> = environment.AuthAPI.split('/');\r\n        // console.log(apiUrl);\r\n        // console.log(requestUrl);\r\n        \r\n        let loginUrl = `${environment.API}auth/login`;\r\n        let registerUrl = `${environment.API}auth/signup`;\r\n        // console.log(loginUrl);\r\n        // console.log(req.url);\r\n        \r\n        \r\n        if(requestUrl[2] === apiUrl[2]\r\n            // && requestUrl[4] === apiUrl[4]\r\n            && req.url !== loginUrl\r\n            && req.url !== registerUrl){\r\n                if(localStorage.getItem('currentUser')){\r\n                    const currentUser = localStorage.getItem('currentUser');\r\n                    const token = JSON.parse(currentUser).token;\r\n                    // console.log(token);\r\n                    if(token){\r\n                        // console.log(token)\r\n                        const headers = req.headers\r\n                        .set('Authorization', `Bearer ${token}`);\r\n                        const authReq = req.clone({ headers });\r\n                        return next.handle(authReq);\r\n                    }\r\n                }else{\r\n                    return next.handle(req);\r\n                }\r\n        }else{\r\n            return next.handle(req);\r\n        }\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\nimport { AuthService } from '../auth.service';\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n    constructor(private authService: AuthService) { }\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        return next.handle(request).pipe(catchError(err => {\r\n            if (err.status === 401) {\r\n                // auto logout if 401 response returned from api\r\n                // this.authService.logout();\r\n                if(err.error.message === \"Unauthorized\"){\r\n                    this.authService.errorSubject.next('Usuario o contraseña incorrectos')\r\n                }else{\r\n                    this.authService.logout()\r\n                }\r\n                // this.authService.logout().subscribe(\r\n                //     res => console.log(res)\r\n                //   );\r\n                // location.reload(true);\r\n\r\n            }\r\n\r\n            const error = err.error.message || err.statusText;\r\n            return throwError(error);\r\n        }))\r\n    }\r\n}","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { MaterialModule } from './shared/material/material.module';\r\nimport { indexAuthInterceptor } from './auth/helpers/index-auth.interceptor';\r\nimport { PERFECT_SCROLLBAR_CONFIG } from 'ngx-perfect-scrollbar';\r\nimport { PerfectScrollbarConfigInterface } from 'ngx-perfect-scrollbar';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\n\r\n\r\nconst DEFAULT_PERFECT_SCROLLBAR_CONFIG: PerfectScrollbarConfigInterface = {\r\n  suppressScrollX: true\r\n};\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule.withServerTransition({ appId: 'serverApp' }),\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    HttpClientModule,\r\n    MaterialModule,\r\n    ReactiveFormsModule,\r\n  ],\r\n  providers: [\r\n    indexAuthInterceptor,\r\n    {\r\n      provide: PERFECT_SCROLLBAR_CONFIG,\r\n      useValue: DEFAULT_PERFECT_SCROLLBAR_CONFIG\r\n    },\r\n  ],\r\n\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n\r\n","<mat-card class=\"container\">\r\n    <mat-card-header>\r\n        <mat-card-title>Paso 4 - Como quieres vender tu vehículo? </mat-card-title>\r\n        <mat-card-subtitle class=\"subtitle-primary\">Ya sabemos que vamos avender tu auto... Tu decides en cuanto tiempo!</mat-card-subtitle>\r\n    </mat-card-header>\r\n    <div class=\"content\">\r\n        <mat-card class=\"tarjetas\">\r\n            <mat-card-header class=\"header-card\">\r\n                <mat-card-title>Sin Apuro</mat-card-title>\r\n                <mat-card-subtitle class=\"subtitle\"><span>Gratis</span><p>Menor Exposición</p></mat-card-subtitle>\r\n            </mat-card-header>\r\n            <mat-card-content class=\"minimo\">\r\n\r\n            </mat-card-content>\r\n            <mat-card-actions>\r\n                <button mat-button class=\"btn-primary\">Elegir</button>\r\n            </mat-card-actions>\r\n        </mat-card>\r\n        <mat-card  class=\"tarjetas\">\r\n            <mat-card-header class=\"header-card\">\r\n                <mat-card-title>\r\n                    Mostrarlo Más\r\n                </mat-card-title>\r\n                <mat-card-subtitle class=\"subtitle\"><span>$ 600</span><p>Exposición Moderada</p></mat-card-subtitle>\r\n            </mat-card-header>\r\n            <mat-card-content class=\"media\">\r\n\r\n            </mat-card-content>\r\n            <mat-card-actions>\r\n                <button mat-button class=\"btn-primary\">Elegir</button>\r\n            </mat-card-actions>\r\n        </mat-card>\r\n        <mat-card class=\"tarjetas\">\r\n            <mat-card-header class=\"header-card\">\r\n                <mat-card-title>Cuanto antes Mejor</mat-card-title>\r\n                <mat-card-subtitle class=\"subtitle\"><span>$ 1.200</span><p>Exposición Alta</p></mat-card-subtitle>\r\n            </mat-card-header>\r\n            <mat-card-content class=\"alta\">\r\n\r\n            </mat-card-content>\r\n            <mat-card-actions>\r\n                <button mat-button class=\"btn-primary\">Elegir</button>\r\n            </mat-card-actions>\r\n        </mat-card>\r\n        <mat-card class=\"tarjetas\">\r\n            <mat-card-header class=\"header-card\">\r\n                <mat-card-title>Urgente!</mat-card-title>\r\n                <mat-card-subtitle class=\"subtitle\"><span>$ 2.400</span><p>Máxima Exposición</p></mat-card-subtitle>\r\n            </mat-card-header>\r\n            <mat-card-content class=\"maximo\">\r\n\r\n            </mat-card-content>\r\n            <mat-card-actions>\r\n                <button mat-button class=\"btn-primary\">Elegir</button>\r\n            </mat-card-actions>\r\n        </mat-card>\r\n    </div>\r\n</mat-card>","<router-outlet></router-outlet>\r\n","/* \"Barrel\" of Http Interceptors */\r\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { AuthInterceptor } from './auth.interceptor';\r\nimport { ErrorInterceptor } from './error.interceptor';\r\n\r\n\r\n/** Http interceptor providers in outside-in order */\r\nexport const indexAuthInterceptor = [\r\n  { provide: HTTP_INTERCEPTORS, useClass: AuthInterceptor, multi: true },\r\n  { provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true },\r\n];","import 'hammerjs';\r\nimport { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  platformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n});\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}