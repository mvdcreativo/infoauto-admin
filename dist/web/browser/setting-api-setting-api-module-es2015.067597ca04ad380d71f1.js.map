{"version":3,"sources":["webpack:///src/app/web/admin/setting-api/tipo-vehicle/tipo-vehicle.component.html","webpack:///src/app/web/admin/setting-api/tipo-vehicle/tipo-vehicle.component.ts","webpack:///src/app/web/admin/setting-api/models-vehicles/models.component.html","webpack:///src/app/web/admin/setting-api/models-vehicles/models.component.ts","webpack:///src/app/web/admin/setting-api/brands/brands.component.html","webpack:///src/app/web/admin/setting-api/brands/brands.component.ts","webpack:///src/app/web/admin/setting-api/submodel/submodel.component.html","webpack:///src/app/web/admin/setting-api/submodel/submodel.component.ts","webpack:///src/app/web/admin/setting-api/attributes/attributes.component.html","webpack:///src/app/web/admin/setting-api/extras/extras.component.html","webpack:///src/app/web/admin/setting-api/setting-api-routing.module.ts","webpack:///src/app/web/admin/setting-api/attributes/attributes.component.ts","webpack:///src/app/web/admin/setting-api/extras/extras.component.ts","webpack:///src/app/web/admin/setting-api/setting-api.module.ts"],"names":["TipoVehicleComponent","_settingsService","fb","_snackBar","displayedColumns","mostrar","idUpdate","this","createForm","getCategories","formAdd","group","name","required","getCategory","subscribe","res","tipe_vehicle","reverse","dataSource","addCategory","value","console","log","openSnackBar","reset","err","id","deleteCategory","element","edit","setValue","updateCategory","estado","filterValue","filter","trim","toLowerCase","applyFilter","ModelsComponent","urlFiles","environment","control","selectBrand","getModels","addModel","data","brand_id","controls","deleteModel","vehicleModel","paginator","compose","autocompleteObjectValidator","selectChanges","getBrands","brands","filteredOptions","valueChanges","pipe","startWith","map","_filter","slice","brand","undefined","option","indexOf","setTimeout","updateModel","BrandsComponent","getBrand","sort","a","b","addBrand","formData","FormData","append","selectedImage","deleteBrand","get","updateBrand","e","target","files","selectedFiles","SubmodelComponent","getSubModel","addSubModel","model_id","vehicle_model_id","filteredOptionsBrand","filteredOptionsModel","table","tabla","subModel","vehicle_models","selectChangesModel","selectChangesBrand","oculta","vehicle_model","updateSubModel","deleteSubModel","routes","path","component","AttributesComponent","getAttributes","attribute_id","attributes","addAttribute","deleteAttribute","ExtrasComponent","getExtras","extras","addExtra","deleteExtra","SettingApiRoutingModule","forChild","SettingApiModule"],"mappings":"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","file":"x","sourcesContent":["<div class=\"content\">\r\n    <mat-card>\r\n        <ng-container *ngIf=\"mostrar; then muestra; else oculto\"></ng-container>\r\n        <ng-template #muestra>\r\n            <form [formGroup]=\"formAdd\">\r\n                <mat-form-field class=\"add\">\r\n                    <input formControlName=\"name\" matInput placeholder=\"Nueva categoría de vehículos\">\r\n                </mat-form-field>\r\n                <button *ngIf=\"!edit\" class=\"btn\" (click)=\"onSubmit()\" [disabled]=\"!formAdd.valid\" mat-button>Agregar</button>\r\n                <button *ngIf=\"edit\" class=\"btn\" (click)=\"update(idUpdate)\" [disabled]=\"!formAdd.valid\" mat-button>Guardar Cambio</button>\r\n\r\n                <button class=\"no-shadow\" mat-mini-fab aria-label=\"Agregar Nuevo\" (click)=\"oculta(mostrar = !mostrar)\">\r\n                    <mat-icon>close</mat-icon>\r\n                </button>\r\n            </form>\r\n        </ng-template>\r\n        <ng-template #oculto>\r\n            <button class=\"btn\" mat-mini-fab aria-label=\"Agregar Nuevo\" (click)=\"mostrar = !mostrar\">\r\n                <mat-icon>add</mat-icon>\r\n            </button>\r\n        </ng-template>\r\n\r\n\r\n        <mat-form-field>\r\n            <input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filtrar\">\r\n        </mat-form-field>\r\n\r\n\r\n        <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\">\r\n\r\n            <!-- ID Column -->\r\n            <ng-container matColumnDef=\"id\">\r\n                <th mat-header-cell *matHeaderCellDef> ID </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.id}} </td>\r\n            </ng-container>\r\n\r\n            <!-- name Column -->\r\n            <ng-container matColumnDef=\"name\">\r\n                <th mat-header-cell *matHeaderCellDef> Nombre </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.name}} </td>\r\n            </ng-container>\r\n\r\n            <ng-container matColumnDef=\"acciones\">\r\n                <th mat-header-cell *matHeaderCellDef> Accioes </th>\r\n                <td class=\"acciones\" mat-cell *matCellDef=\"let element\">\r\n                    <button mat-icon-button color=\"warn\" aria-label=\"Eliminar Registro\" (click)=\"deleteReg(element.id)\">\r\n                        <mat-icon>delete</mat-icon>\r\n                    </button>\r\n                    <button mat-icon-button class=\"ico-edit\" aria-label=\"Editar Registro\" (click)=\"openEdit(element)\">\r\n                        <mat-icon>edit</mat-icon>\r\n                    </button>\r\n                </td>\r\n            </ng-container>\r\n\r\n            <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n            <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n        </table>\r\n    </mat-card>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { SettingApiService } from '../services/setting-api.service';\r\nimport { VehicleCategory } from 'src/app/interfaces/resultado';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  templateUrl: './tipo-vehicle.component.html',\r\n  styleUrls: ['./tipo-vehicle.component.scss']\r\n})\r\nexport class TipoVehicleComponent implements OnInit {\r\n  tipe_vehicle: VehicleCategory[];\r\n  displayedColumns: string[] = ['id', 'name', 'acciones'];\r\n  dataSource: any;\r\n\r\n  formAdd: FormGroup\r\n  mostrar: boolean = false;\r\n  edit: boolean;\r\n  idUpdate: number = null;\r\n\r\n\r\n  constructor(\r\n    private _settingsService: SettingApiService,\r\n    private fb: FormBuilder,\r\n    private _snackBar: MatSnackBar\r\n\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.createForm();\r\n    this.getCategories();\r\n  }\r\n\r\n  createForm() {\r\n    this.formAdd = this.fb.group({\r\n      name: [null, Validators.required]\r\n    })\r\n  }\r\n\r\n  getCategories() {\r\n    this._settingsService.getCategory().subscribe(\r\n      (res: any) => {\r\n        this.tipe_vehicle = res.reverse();\r\n        // console.log(res);\r\n\r\n        this.dataSource = new MatTableDataSource(this.tipe_vehicle);\r\n      }\r\n    );\r\n  }\r\n\r\n  onSubmit() {\r\n    this.addCategory();\r\n  }\r\n\r\n  addCategory() {\r\n    const data = this.formAdd.value;\r\n    this._settingsService.addCategory(data).subscribe(\r\n      res => {\r\n        console.log(res);\r\n        this._settingsService.openSnackBar('success', `Tipo ${res.name} creado con éxito!!`)\r\n        this.getCategories()\r\n        this.formAdd.reset();\r\n        this.mostrar = false;\r\n      },\r\n      err => {\r\n        console.log(err);\r\n\r\n        this._settingsService.openSnackBar('error', `${err}`)\r\n      },\r\n    )\r\n  }\r\n\r\n  deleteReg(id: number) {\r\n    this._settingsService.deleteCategory(id).subscribe(\r\n      res => {\r\n        this._settingsService.openSnackBar('success', `Tipo \"${res.name}\" eliminado con éxito!!`)\r\n        this.getCategories()\r\n        this.formAdd.reset();\r\n        this.mostrar = false;\r\n      },\r\n      err => {\r\n        this._settingsService.openSnackBar('success', err)\r\n\r\n      }\r\n    )\r\n  }\r\n\r\n  ///////EDIT\r\n  openEdit(element: any) {\r\n    this.mostrar = false;\r\n    this.formAdd.reset();\r\n    this.edit = false;\r\n    this.edit = true;\r\n    this.formAdd.setValue(\r\n      {\r\n        name: element.name,\r\n      }\r\n    )\r\n    this.idUpdate = element.id;\r\n    this.mostrar = true;\r\n    console.log(element);\r\n\r\n  }\r\n\r\n  update(id:number) {\r\n    const data = this.formAdd.value;\r\n    \r\n    this._settingsService.updateCategory(id, data).subscribe(\r\n      res => {\r\n        console.log(res);\r\n        this._settingsService.openSnackBar('success', `Tipo ${res.name} Actualizado con éxito!!`)\r\n        this.getCategories()\r\n        this.formAdd.reset();\r\n        this.mostrar = false;\r\n        this.idUpdate = null;\r\n      },\r\n      err => {\r\n        console.log(err);\r\n\r\n        this._settingsService.openSnackBar('error', `${err}`)\r\n      },\r\n    )\r\n  }  \r\n  \r\n  oculta(estado) {\r\n    this.edit = false;\r\n    this.formAdd.reset();\r\n    this.mostrar = estado\r\n  }\r\n  //////////\r\n\r\n  applyFilter(filterValue: string) {\r\n    this.dataSource.filter = filterValue.trim().toLowerCase();\r\n  }\r\n\r\n\r\n\r\n}\r\n","<div class=\"content\">\r\n    <mat-card>\r\n        <ng-container *ngIf=\"mostrar; then muestra; else oculto\"></ng-container>\r\n        <ng-template #muestra>\r\n            <form [formGroup]=\"formAdd\">\r\n                <mat-form-field class=\"brand\">\r\n                    <input type=\"text\" placeholder=\"Selecciona la Marca\" aria-label=\"Selecciona la Marca\" matInput\r\n                        formControlName=\"brand_id\" [matAutocomplete]=\"auto\">\r\n                    <mat-autocomplete #auto=\"matAutocomplete\" [displayWith]=\"displayFn\">\r\n                        <mat-option *ngFor=\"let option of filteredOptions | async\" [value]=\"option\">\r\n                            {{option.name}}\r\n                        </mat-option>\r\n                    </mat-autocomplete>\r\n                </mat-form-field>\r\n                <mat-form-field class=\"add\">\r\n                    <input formControlName=\"name\" matInput placeholder=\"Nuevo modelo\">\r\n                </mat-form-field>\r\n                <button *ngIf=\"!edit\" class=\"btn\" (click)=\"onSubmit()\" [disabled]=\"!formAdd.valid\" mat-button>Agregar</button>\r\n                <button *ngIf=\"edit\" class=\"btn\" (click)=\"update(idUpdate)\" [disabled]=\"!formAdd.valid\" mat-button>Guardar Cambio</button>\r\n\r\n                <button class=\"no-shadow\" mat-mini-fab aria-label=\"Agregar Nuevo\" (click)=\"oculta(mostrar = !mostrar)\">\r\n                    <mat-icon>close</mat-icon>\r\n                </button>\r\n            </form>\r\n        </ng-template>\r\n        <ng-template #oculto>\r\n            <button class=\"btn\" mat-mini-fab aria-label=\"Agregar Nuevo\" (click)=\"mostrar = !mostrar\">\r\n                <mat-icon>add</mat-icon>\r\n            </button>\r\n        </ng-template>\r\n\r\n        <mat-form-field>\r\n            <input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filtrar\">\r\n        </mat-form-field>\r\n        <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\">\r\n\r\n            <!-- ID Column -->\r\n            <ng-container matColumnDef=\"id\">\r\n                <th mat-header-cell *matHeaderCellDef> ID </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.id}} </td>\r\n            </ng-container>\r\n\r\n            <!-- name Column -->\r\n            <ng-container matColumnDef=\"name\">\r\n                <th mat-header-cell *matHeaderCellDef> Nombre </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.name}} </td>\r\n            </ng-container>\r\n\r\n            <!-- brand Column -->\r\n            <ng-container matColumnDef=\"brand\">\r\n                <th mat-header-cell *matHeaderCellDef> Marca </th>\r\n                <td mat-cell *matCellDef=\"let element\">\r\n                    <span>{{element.brand.name}}</span>\r\n                </td>\r\n            </ng-container>\r\n            <ng-container matColumnDef=\"image_url\">\r\n                <th mat-header-cell *matHeaderCellDef> Logo </th>\r\n                <td mat-cell *matCellDef=\"let element\">\r\n                    <img class=\"image\" [src]=\"urlFiles+element.brand.image_url\">\r\n                </td>\r\n            </ng-container>\r\n\r\n            <ng-container matColumnDef=\"acciones\">\r\n                <th mat-header-cell *matHeaderCellDef> Accioes </th>\r\n                <td class=\"acciones\" mat-cell *matCellDef=\"let element\">\r\n                    <button mat-icon-button color=\"warn\" \r\n                    aria-label=\"Eliminar Registro\"\r\n                    (click)=\"deleteReg(element.id)\">\r\n                        <mat-icon>delete</mat-icon>\r\n                    </button>\r\n                    <button mat-icon-button class=\"ico-edit\" aria-label=\"Editar Registro\" (click)=\"openEdit(element)\">\r\n                        <mat-icon>edit</mat-icon>\r\n                    </button>\r\n                </td>\r\n            </ng-container>\r\n\r\n            <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n            <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n\r\n        </table>\r\n        <mat-paginator [pageSizeOptions]=\"[20,50,100]\" showFirstLastButtons></mat-paginator>\r\n\r\n    </mat-card>\r\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\n\r\nimport { SettingApiService } from '../services/setting-api.service';\r\nimport { VehicleModel, Brand } from 'src/app/interfaces/resultado';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { environment } from 'src/environments/environment';\r\nimport { FormBuilder, FormGroup, Validators, FormControl, ValidatorFn, AbstractControl } from '@angular/forms';\r\nimport { startWith, map } from 'rxjs/operators';\r\nimport { Observable } from 'rxjs';\r\n\r\n\r\n\r\n@Component({\r\n  templateUrl: './models.component.html',\r\n  styleUrls: ['./models.component.scss']\r\n})\r\nexport class ModelsComponent implements OnInit {\r\n  displayedColumns: string[] = ['id', 'name', 'brand', 'image_url', 'acciones'];\r\n  vehicleModel: VehicleModel[];\r\n  brands: Brand [];\r\n  dataSource: any;\r\n  urlFiles = `${environment.urlFiles}`;\r\n\r\n  formAdd: FormGroup\r\n  mostrar: boolean = false;\r\n  filteredOptions: Observable<Brand[]>;\r\n\r\n  @ViewChild(MatPaginator, {static: true}) paginator: MatPaginator;\r\n  edit: boolean;\r\n  idUpdate: number;\r\n  \r\n  constructor(\r\n    private _settingsService: SettingApiService,\r\n    private fb: FormBuilder,\r\n    private _snackBar: MatSnackBar,\r\n  ) { }\r\n\r\n////VALIDA CAMPO AUTOCOMPLETE\r\n  autocompleteObjectValidator(): ValidatorFn {\r\n    return (control: AbstractControl): { [key: string]: any } | null => {\r\n      if (typeof control.value === 'string') {\r\n        return { 'invalidAutocompleteObject': { value: control.value } }\r\n      }\r\n      return null  /* valid option selected */\r\n    }\r\n  }\r\n////\r\n\r\n  ngOnInit() {\r\n    this.selectBrand()\r\n    \r\n    this.getModels();\r\n  }\r\n\r\n  onSubmit() {\r\n    this.addModel();\r\n  }\r\n\r\n  addModel() {\r\n    const data = {\r\n      brand_id : this.formAdd.controls.brand_id.value.id,\r\n      name: this.formAdd.controls.name.value\r\n    }\r\n\r\n    console.log(data);\r\n    \r\n    this._settingsService.addModel(data).subscribe(\r\n      res => {\r\n        console.log(res);\r\n        this._settingsService.openSnackBar('success', `Modelo ${res.name} creado con éxito!!`)\r\n        this.getModels()\r\n        this.formAdd.reset();\r\n        this.mostrar = false;\r\n      },\r\n      err => {\r\n        console.log(err);\r\n\r\n        this._settingsService.openSnackBar('error', `${err}`)\r\n      },\r\n    )\r\n  }\r\n\r\n  deleteReg(id: number) {\r\n    this._settingsService.deleteModel(id).subscribe(\r\n      res => {\r\n        this._settingsService.openSnackBar('success', `Modelo \"${res.name}\" eliminado con éxito!!`)\r\n        this.getModels()\r\n        this.formAdd.reset();\r\n        this.mostrar = false;\r\n      },\r\n      err => {\r\n        this._settingsService.openSnackBar('success', err)\r\n\r\n      }\r\n    )\r\n  }\r\n\r\n  getModels() {\r\n    this._settingsService.getModels().subscribe(\r\n      (res: any) => {\r\n        this.vehicleModel = res.reverse();\r\n        this.dataSource = new MatTableDataSource(this.vehicleModel);\r\n        this.dataSource.paginator = this.paginator;\r\n      }\r\n    );\r\n  }\r\n\r\n  createForm() {\r\n    this.formAdd = this.fb.group({\r\n      name: [null, Validators.required],\r\n      brand_id: [null, Validators.compose(\r\n        [Validators.required, this.autocompleteObjectValidator()]\r\n      )]\r\n    })\r\n    this.selectChanges()\r\n  }\r\n\r\n  /// INPUT SELECT MARCA autocomplete\r\n  selectBrand() {\r\n    this._settingsService.getBrands().subscribe(\r\n        (brands: any) => {\r\n          this.brands = brands\r\n          this.createForm();\r\n          \r\n          console.log(brands)\r\n        }\r\n      );\r\n  }\r\n\r\n  selectChanges(){\r\n    if(this.brands){\r\n      this.filteredOptions = this.formAdd.controls.brand_id.valueChanges\r\n      .pipe(\r\n        startWith(''),\r\n        map(value => typeof value === 'string' ? value : value.name),\r\n        map(name => name ? this._filter(name) : this.brands.slice())\r\n        \r\n      );\r\n    }\r\n  }\r\n\r\n  displayFn(brand?: Brand): string | undefined {\r\n    return brand ? brand.name : undefined;\r\n  }\r\n\r\n  private _filter(name: string): Brand[] {\r\n    const filterValue = name.toLowerCase();\r\n\r\n    return this.brands.filter(option => option.name.toLowerCase().indexOf(filterValue) === 0);\r\n  }\r\n\r\n\r\n\r\n  ////////\r\n\r\n   ///////EDIT\r\n   openEdit(element: any) {\r\n    this.mostrar = false;\r\n    this.formAdd.reset();\r\n    this.edit = false;\r\n    this.edit = true;\r\n    setTimeout(() => {\r\n    this.formAdd.setValue(\r\n      {\r\n        name: element.name,\r\n        brand_id: element.brand\r\n      }\r\n    )\r\n    this.idUpdate = element.id;\r\n    this.mostrar = true;\r\n    console.log(element);\r\n    },500)\r\n  }\r\n\r\n  update(id:number) {\r\n    \r\n    const data = {\r\n      brand_id : this.formAdd.controls.brand_id.value.id,\r\n      name: this.formAdd.controls.name.value\r\n    }\r\n    console.log(data);\r\n    \r\n    this._settingsService.updateModel(id, data).subscribe(\r\n      res => {\r\n        console.log(res);\r\n        this._settingsService.openSnackBar('success', `Modelo ${res.name} Actualizado con éxito!!`)\r\n        this.getModels()\r\n        this.formAdd.reset();\r\n        this.mostrar = false;\r\n        this.idUpdate = null;\r\n      },\r\n      err => {\r\n        console.log(err);\r\n        this._settingsService.openSnackBar('error', `${err}`)\r\n      },\r\n    )\r\n  }  \r\n  \r\n  oculta(estado) {\r\n    this.edit = false;\r\n    this.formAdd.reset();\r\n    this.mostrar = estado\r\n  }\r\n  //////////\r\n\r\n  applyFilter(filterValue: string) {\r\n    this.dataSource.filter = filterValue.trim().toLowerCase();\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n","<div class=\"content\">\r\n    <mat-card>\r\n        <ng-container *ngIf=\"mostrar; then muestra; else oculto\"></ng-container>\r\n        <ng-template #muestra>\r\n            <form [formGroup]=\"formAdd\">\r\n                <mat-form-field class=\"add\">\r\n                    <input formControlName=\"name\" matInput placeholder=\"Nueva Marca de vehículos\">\r\n                </mat-form-field>\r\n                    <label for=\"image\">\r\n                        <!-- <img class=\"img\" [src]=\"image.url\" alt=\"\"> -->\r\n                        <a mat-button class=\"btn\">\r\n                            <i class=\"material-icons\">add_photo_alternate</i> \r\n                            Imagen\r\n                        </a>\r\n                    </label>\r\n                    <input type=\"file\" (change)=\"changeImage($event)\" hidden id=\"image\">\r\n                \r\n                    <button *ngIf=\"!edit\" class=\"btn\" (click)=\"onSubmit()\" [disabled]=\"!formAdd.valid\" mat-button>Agregar</button>\r\n                    <button *ngIf=\"edit\" class=\"btn\" (click)=\"update(idUpdate)\" [disabled]=\"!formAdd.valid\" mat-button>Guardar Cambio</button>\r\n\r\n                    <button class=\"no-shadow\" mat-mini-fab aria-label=\"Agregar Nuevo\" (click)=\"oculta(mostrar = !mostrar)\">\r\n                        <mat-icon>close</mat-icon>\r\n                    </button>\r\n            </form>\r\n        </ng-template>\r\n        <ng-template #oculto>\r\n            <button class=\"btn\" mat-mini-fab aria-label=\"Agregar Nuevo\"\r\n            (click)=\"mostrar = !mostrar\">\r\n                <mat-icon>add</mat-icon>\r\n            </button>\r\n        </ng-template>\r\n\r\n        <mat-form-field>\r\n            <input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filtrar\">\r\n        </mat-form-field>\r\n\r\n        <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\">\r\n\r\n            <!-- ID Column -->\r\n            <ng-container matColumnDef=\"id\">\r\n                <th mat-header-cell *matHeaderCellDef> ID </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.id}} </td>\r\n            </ng-container>\r\n\r\n            <!-- name Column -->\r\n            <ng-container matColumnDef=\"name\">\r\n                <th mat-header-cell *matHeaderCellDef> Nombre </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.name}} </td>\r\n            </ng-container>\r\n\r\n            <!-- name Column -->\r\n            <ng-container matColumnDef=\"image_url\">\r\n                <th mat-header-cell *matHeaderCellDef> Logo </th>\r\n                <td mat-cell *matCellDef=\"let element\"> \r\n                    <img class=\"image\" [src]=\"urlFiles+element.image_url\" alt=\"\"> \r\n                </td>\r\n            </ng-container>\r\n\r\n            <ng-container matColumnDef=\"acciones\">\r\n                <th mat-header-cell *matHeaderCellDef> Accioes </th>\r\n                <td class=\"acciones\" mat-cell *matCellDef=\"let element\">\r\n                    <button mat-icon-button color=\"warn\" \r\n                    aria-label=\"Eliminar Registro\"\r\n                    (click)=\"deleteReg(element.id)\">\r\n                        <mat-icon>delete</mat-icon>\r\n                    </button>\r\n                    <button mat-icon-button class=\"ico-edit\" aria-label=\"Editar Registro\" (click)=\"openEdit(element)\">\r\n                        <mat-icon>edit</mat-icon>\r\n                    </button>\r\n                </td>\r\n            </ng-container>\r\n            <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n            <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n        </table>\r\n        <mat-paginator [pageSizeOptions]=\"[20,50,100]\" showFirstLastButtons></mat-paginator>\r\n    </mat-card>\r\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport {MatTableDataSource} from '@angular/material/table';\r\nimport { SettingApiService } from '../services/setting-api.service';\r\nimport { Brand } from 'src/app/interfaces/resultado';\r\nimport { environment } from 'src/environments/environment';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\n\r\n\r\n@Component({\r\n  templateUrl: './brands.component.html',\r\n  styleUrls: ['./brands.component.scss']\r\n})\r\nexport class BrandsComponent implements OnInit {\r\n  brand: Brand [];\r\n  displayedColumns: string[] = ['id', 'name', 'image_url', 'acciones' ];\r\n  dataSource: any;\r\n  formAdd : FormGroup\r\n  mostrar :boolean = false;\r\n  urlFiles= `${environment.urlFiles}`;\r\n  selectedImage: FileList;\r\n  idUpdate: any;\r\n  edit: boolean;\r\n\r\n  constructor(\r\n    private _settingsService: SettingApiService,\r\n    private fb: FormBuilder,\r\n    private _snackBar: MatSnackBar\r\n  ) { }\r\n  \r\n  @ViewChild(MatPaginator, {static: true}) paginator: MatPaginator;\r\n\r\n  ngOnInit() {\r\n    this.getBrand();\r\n    this.createForm();\r\n  }\r\n\r\n  createForm(){\r\n    this.formAdd = this.fb.group({\r\n      name: [null, Validators.required],\r\n    })\r\n  }\r\n  getBrand(){\r\n    this._settingsService.getBrands().subscribe(\r\n      (res:any) => {\r\n        this.brand = res;\r\n        \r\n        this.brand.sort((a, b) => {\r\n                  return (b.id - a.id)\r\n                })\r\n\r\n        this.dataSource = new MatTableDataSource(this.brand);\r\n        this.dataSource.paginator = this.paginator;\r\n      }\r\n    );\r\n  }\r\n  \r\n  onSubmit(){\r\n    this.addBrand();\r\n  }\r\n\r\n  addBrand(){\r\n    const data = this.formAdd.value;\r\n    const formData = new FormData();\r\n\r\n    formData.append('image', this.selectedImage[0]),\r\n    formData.append('name', data.name )\r\n    console.log(this.selectedImage[0]);\r\n    \r\n    \r\n    this._settingsService.addBrand(formData).subscribe(\r\n      res => {\r\n        console.log(res);\r\n        this._settingsService.openSnackBar('success', `Tipo ${res.name} creado con éxito!!`)\r\n        this.getBrand()\r\n        this.formAdd.reset();\r\n        this.mostrar = false;\r\n      },\r\n      err => {\r\n        console.log(err);\r\n        \r\n        this._settingsService.openSnackBar('error', `${err}`)\r\n      },\r\n    )\r\n  }\r\n\r\n  deleteReg(id:number){\r\n    this._settingsService.deleteBrand(id).subscribe(\r\n      res => {\r\n        this._settingsService.openSnackBar('success', `Tipo \"${res.name}\" eliminado con éxito!!`)\r\n        this.getBrand()\r\n        this.formAdd.reset();\r\n        this.mostrar = false;\r\n      },\r\n      err =>{\r\n        this._settingsService.openSnackBar('success', err)\r\n\r\n      }\r\n    )\r\n  }\r\n  applyFilter(filterValue: string) {\r\n    this.dataSource.filter = filterValue.trim().toLowerCase();\r\n  }\r\n\r\n\r\n    ///////EDIT\r\n    openEdit(element: any) {\r\n      this.mostrar = false;\r\n      this.formAdd.reset();\r\n      this.edit = false;\r\n      this.edit = true;\r\n      setTimeout(() => {\r\n      this.formAdd.setValue(\r\n        {\r\n          name: element.name,\r\n        }\r\n      )\r\n\r\n\r\n      this.idUpdate = element.id;\r\n      this.mostrar = true;\r\n      console.log(element);\r\n      },500)\r\n    }\r\n  \r\n    update(id:number) {\r\n      const data = this.formAdd.value;\r\n      const formData = new FormData();\r\n  \r\n      console.log(data);\r\n      \r\n      formData.append('_method', 'PUT')\r\n      formData.append('image', this.selectedImage[0])\r\n      formData.append('name', data.name )\r\n      console.log(formData.get('name'));\r\n      \r\n      this._settingsService.updateBrand(id, formData).subscribe(\r\n        res => {\r\n          console.log(res);\r\n          this._settingsService.openSnackBar('success', `Marca ${res.name} Actualizado con éxito!!`)\r\n          this.getBrand()\r\n          this.formAdd.reset();\r\n          this.mostrar = false;\r\n          this.idUpdate = null;\r\n        },\r\n        err => {\r\n          console.log(err);\r\n  \r\n          this._settingsService.openSnackBar('error', `${err}`)\r\n        },\r\n      )\r\n    }  \r\n    \r\n    oculta(estado) {\r\n      this.edit = false;\r\n      this.formAdd.reset();\r\n      this.mostrar = estado\r\n    }\r\n\r\n\r\n  changeImage(e){\r\n    \r\n    if(e.target.files && e.target.files[0]){\r\n      const selectedFiles = <FileList>e.target.files;\r\n      this.selectedImage = selectedFiles;\r\n      console.log(selectedFiles);\r\n      // console.log(this.files);\r\n      \r\n\r\n      // this._publishService.uploadImage(this.publicationID, selectedFiles, index)\r\n      // .subscribe(\r\n      //   (event: HttpEvent<Object>) => {\r\n          \r\n      //     // console.log(event);\r\n      //     if (event.type === HttpEventType.Response) {\r\n      //       console.log('Upload Concluído');\r\n      //       console.log(event.body);\r\n      //       this.publication = event.body;\r\n      //       this.getImages();\r\n      //     } else if (event.type === HttpEventType.UploadProgress) {\r\n      //       const percentDone = Math.round((event.loaded * 100) / event.total);\r\n      //       // console.log('Progresso', percentDone);\r\n      //       this.progress = percentDone;\r\n      //     }\r\n      //   }\r\n      // )\r\n    }\r\n    \r\n  }\r\n}\r\n","<div class=\"content\">\r\n    <mat-card>\r\n        <ng-container *ngIf=\"mostrar; then muestra; else oculto\"></ng-container>\r\n        <ng-template #muestra>\r\n            <form [formGroup]=\"formAdd\">\r\n                <mat-form-field class=\"brand\">\r\n                    <input type=\"text\" placeholder=\"Selecciona la Marca\" aria-label=\"Selecciona la Marca\" matInput\r\n                        formControlName=\"brand_id\" [matAutocomplete]=\"brands\" >\r\n                    <mat-autocomplete #brands=\"matAutocomplete\" (optionSelected)=\"getModels($event)\" [displayWith]=\"displayFn\">\r\n                        <mat-option *ngFor=\"let option of filteredOptionsBrand | async\" [value]=\"option\">\r\n                            {{option.name}}\r\n                        </mat-option>\r\n                    </mat-autocomplete>\r\n                </mat-form-field>\r\n\r\n                <mat-form-field class=\"model\">\r\n                    <input type=\"text\" placeholder=\"Selecciona el Modelo\" aria-label=\"Selecciona el Modelo\" matInput\r\n                        formControlName=\"vehicle_model_id\" [matAutocomplete]=\"model\">\r\n                    <mat-autocomplete #model=\"matAutocomplete\" [displayWith]=\"displayFn\">\r\n                        <mat-option *ngFor=\"let option of filteredOptionsModel | async\" [value]=\"option\">\r\n                            {{option.name}}\r\n                        </mat-option>\r\n                    </mat-autocomplete>\r\n                </mat-form-field>\r\n                <mat-form-field class=\"add\">\r\n                    <input formControlName=\"name\" matInput placeholder=\"Nuevo Sub-Modelo\">\r\n                </mat-form-field>\r\n\r\n                <button *ngIf=\"!edit\" class=\"btn\" (click)=\"onSubmit()\" [disabled]=\"!formAdd.valid\" mat-button>Agregar</button>\r\n                <button *ngIf=\"edit\" class=\"btn\" (click)=\"update(idUpdate)\" [disabled]=\"!formAdd.valid\" mat-button>Guardar Cambio</button>\r\n                <button class=\"no-shadow\" mat-mini-fab aria-label=\"Cerrar\" (click)=\"oculta(mostrar = !mostrar)\">\r\n                    <mat-icon>close</mat-icon>\r\n                </button>\r\n            </form>\r\n        </ng-template>\r\n        <ng-template #oculto>\r\n            <button class=\"btn\" mat-mini-fab aria-label=\"Agregar Nuevo\" (click)=\"mostrar = !mostrar\">\r\n                <mat-icon>add</mat-icon>\r\n            </button>\r\n        </ng-template>\r\n\r\n\r\n        <mat-form-field>\r\n            <input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filtrar\">\r\n        </mat-form-field>\r\n\r\n        <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\">\r\n\r\n            <!-- ID Column -->\r\n            <ng-container matColumnDef=\"id\">\r\n                <th mat-header-cell *matHeaderCellDef> ID </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.id}} </td>\r\n            </ng-container>\r\n\r\n            <!-- name Column -->\r\n            <ng-container matColumnDef=\"name\">\r\n                <th mat-header-cell *matHeaderCellDef> Nombre </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.name}} </td>\r\n            </ng-container>\r\n\r\n            <ng-container matColumnDef=\"brand\">\r\n                <th mat-header-cell *matHeaderCellDef> Marca </th>\r\n                <td mat-cell *matCellDef=\"let element\">\r\n                    <span>{{element.vehicle_model.brand.name}}</span>\r\n                </td>\r\n            </ng-container>\r\n\r\n            <ng-container matColumnDef=\"model\">\r\n                <th mat-header-cell *matHeaderCellDef> Modelo </th>\r\n                <td mat-cell *matCellDef=\"let element\">\r\n                    <span>{{element.vehicle_model.name}}</span>\r\n                </td>\r\n            </ng-container>\r\n\r\n            <ng-container matColumnDef=\"image_url\">\r\n                <th mat-header-cell *matHeaderCellDef> Logo </th>\r\n                <td mat-cell *matCellDef=\"let element\">\r\n                    <img class=\"image\" [src]=\"urlFiles+element.vehicle_model.brand.image_url\">\r\n                </td>\r\n            </ng-container>\r\n\r\n            <ng-container matColumnDef=\"acciones\">\r\n                <th mat-header-cell *matHeaderCellDef> Accioes </th>\r\n                <td class=\"acciones\" mat-cell *matCellDef=\"let element\">\r\n                    <button mat-icon-button color=\"warn\" \r\n                    aria-label=\"Eliminar Registro\"\r\n                    (click)=\"deleteReg(element.id)\">\r\n                        <mat-icon>delete</mat-icon>\r\n                    </button>\r\n                    <button mat-icon-button class=\"ico-edit\" aria-label=\"Editar Registro\" (click)=\"openEdit(element)\">\r\n                        <mat-icon>edit</mat-icon>\r\n                    </button>\r\n                </td>\r\n            </ng-container>\r\n\r\n            <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n            <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n        </table>\r\n        <mat-paginator [pageSizeOptions]=\"[20,50,100]\" showFirstLastButtons></mat-paginator>\r\n    </mat-card>\r\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { SettingApiService } from '../services/setting-api.service';\r\nimport { VehicleSubModel, Brand, VehicleModel } from 'src/app/interfaces/resultado';\r\nimport { MatAutocompleteSelectedEvent } from '@angular/material/autocomplete/autocomplete';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { FormGroup, FormBuilder, ValidatorFn, AbstractControl, Validators } from '@angular/forms';\r\nimport { Observable } from 'rxjs';\r\nimport { environment } from 'src/environments/environment';\r\nimport { startWith, map } from 'rxjs/operators';\r\n\r\n@Component({\r\n  templateUrl: './submodel.component.html',\r\n  styleUrls: ['./submodel.component.scss']\r\n})\r\nexport class SubmodelComponent implements OnInit {\r\n  displayedColumns: string[] = ['id', 'name', 'brand', 'model', 'image_url', 'acciones'];\r\n  subModel: VehicleSubModel[];\r\n  vehicleModel: VehicleModel[];\r\n  brands: Brand[];\r\n  dataSource: any;\r\n  urlFiles = `${environment.urlFiles}`;\r\n\r\n  formAdd: FormGroup\r\n  mostrar: boolean = false;\r\n  filteredOptionsBrand: Observable<Brand[]>;\r\n  filteredOptionsModel: Observable<VehicleModel[]>;\r\n  idUpdate: any;\r\n  edit: boolean;\r\n\r\n  constructor(\r\n    private _settingsService: SettingApiService,\r\n    private fb: FormBuilder,\r\n    private _snackBar: MatSnackBar,\r\n  ) { }\r\n\r\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\r\n\r\n  ngOnInit() {\r\n    this.selectBrand()\r\n    this.getSubModel()\r\n\r\n  }\r\n\r\n  onSubmit() {\r\n\r\n    this.addSubModel();\r\n  }\r\n\r\n  addSubModel() {\r\n    const data = {\r\n      model_id: this.formAdd.controls.vehicle_model_id.value.id,\r\n      name: this.formAdd.controls.name.value\r\n    }\r\n\r\n    console.log(data);\r\n\r\n    this._settingsService.addSubModel(data).subscribe(\r\n      res => {\r\n        console.log(res);\r\n        this._settingsService.openSnackBar('success', `Sub-Modelo ${res.name} creado con éxito!!`)\r\n        this.getSubModel()\r\n        this.formAdd.reset();\r\n        this.mostrar = false;\r\n      },\r\n      err => {\r\n        console.log(err);\r\n\r\n        this._settingsService.openSnackBar('error', `${err}`)\r\n      },\r\n    )\r\n  }\r\n\r\n\r\n  /// INPUT SELECT MARCA autocomplete\r\n  selectBrand() {\r\n    this._settingsService.getBrands().subscribe(\r\n      (brands: any) => {\r\n        this.brands = brands\r\n        this.createForm();\r\n\r\n        // console.log(brands)\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  selectChangesBrand() {\r\n    if (this.brands) {\r\n\r\n      this.filteredOptionsBrand = this.formAdd.controls.brand_id.valueChanges\r\n        .pipe(\r\n          startWith(''),\r\n          map(value => typeof value === 'string' ? value : value.name),\r\n          map(name => name ? this._filter(name, this.brands) : this.brands.slice())\r\n\r\n        );\r\n      console.log(this.filteredOptionsBrand);\r\n\r\n    }\r\n\r\n  }\r\n  selectChangesModel() {\r\n    if (this.vehicleModel) {\r\n      this.filteredOptionsModel = this.formAdd.controls.vehicle_model_id.valueChanges\r\n        .pipe(\r\n          startWith(''),\r\n          map(value => typeof value === 'string' ? value : value.name),\r\n          map(name => name ? this._filter(name, this.vehicleModel) : this.vehicleModel.slice())\r\n\r\n        );\r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n  displayFn(table?: any): string | undefined {\r\n\r\n    return table ? table.name : undefined;\r\n  }\r\n\r\n\r\n  private _filter(name: string, tabla: any): any[] {\r\n    const filterValue = name.toLowerCase();\r\n\r\n    return tabla.filter(option => option.name.toLowerCase().indexOf(filterValue) === 0);\r\n  }\r\n\r\n  ///////////////\r\n\r\n\r\n  getSubModel() {\r\n    this._settingsService.getSubModel().subscribe(\r\n      (res: any) => {\r\n        this.subModel = res.reverse();\r\n        this.dataSource = new MatTableDataSource(this.subModel);\r\n        this.dataSource.paginator = this.paginator;\r\n\r\n      }\r\n    );\r\n  }\r\n\r\n  getModels(e: MatAutocompleteSelectedEvent) {\r\n    this.formAdd.controls.vehicle_model_id.reset()\r\n    console.log(e.option.value)\r\n    this.vehicleModel = e.option.value.vehicle_models\r\n    this.selectChangesModel()\r\n    console.log(this.vehicleModel);\r\n    // this._settingsService.getModelsByIDBrand(brand_id).subscribe(\r\n    //   (res: any) => {\r\n    //     this.vehicleModel = res.vehicle_models;\r\n    //   }\r\n    // );\r\n  }\r\n\r\n  createForm() {\r\n    this.formAdd = this.fb.group({\r\n      name: [null, Validators.required],\r\n      brand_id: [null, Validators.compose(\r\n        [Validators.required, this.autocompleteObjectValidator()]\r\n      )],\r\n      vehicle_model_id: [null, Validators.compose(\r\n        [Validators.required, this.autocompleteObjectValidator()]\r\n      )],\r\n    })\r\n    this.selectChangesBrand()\r\n    this.selectChangesModel()\r\n\r\n\r\n  }\r\n\r\n\r\n  ///////EDIT\r\n  openEdit(element: any) {\r\n    this.oculta(this.mostrar = !this.mostrar)\r\n\r\n    console.log(element);\r\n    setTimeout(() => {\r\n      this.formAdd.setValue(\r\n        {\r\n          name: element.name,\r\n          vehicle_model_id: element.vehicle_model,\r\n          brand_id: element.vehicle_model.brand\r\n        }\r\n      )\r\n      this.idUpdate = element.id;\r\n      this.mostrar = true;\r\n      this.edit = true;\r\n    }, 100)\r\n  }\r\n\r\n  update(id: number) {\r\n\r\n    const data = {\r\n      model_id: this.formAdd.controls.vehicle_model_id.value.id,\r\n      name: this.formAdd.controls.name.value\r\n    }\r\n\r\n    console.log(data);\r\n\r\n    this._settingsService.updateSubModel(id, data).subscribe(\r\n      res => {\r\n        console.log(res);\r\n        this._settingsService.openSnackBar('success', `Sub Modelo ${res.name} Actualizado con éxito!!`)\r\n        this.getSubModel()\r\n        this.formAdd.reset();\r\n        this.mostrar = false;\r\n        this.idUpdate = null;\r\n      },\r\n      err => {\r\n        console.log(err);\r\n\r\n        this._settingsService.openSnackBar('error', `${err}`)\r\n      },\r\n    )\r\n  }\r\n\r\n  oculta(estado) {\r\n    this.edit = false;\r\n    this.formAdd.reset();\r\n    this.mostrar = estado\r\n  }\r\n  //////////\r\n\r\n  applyFilter(filterValue: string) {\r\n    this.dataSource.filter = filterValue.trim().toLowerCase();\r\n  }\r\n\r\n\r\n  deleteReg(id: number) {\r\n    this._settingsService.deleteSubModel(id).subscribe(\r\n      res => {\r\n        this._settingsService.openSnackBar('success', `Modelo \"${res.name}\" eliminado con éxito!!`)\r\n        this.getSubModel()\r\n        this.formAdd.reset();\r\n        this.mostrar = false;\r\n      },\r\n      err => {\r\n        this._settingsService.openSnackBar('success', err)\r\n\r\n      }\r\n    )\r\n  }\r\n  ////VALIDA CAMPO AUTOCOMPLETE\r\n  autocompleteObjectValidator(): ValidatorFn {\r\n    return (control: AbstractControl): { [key: string]: any } | null => {\r\n      if (typeof control.value === 'string') {\r\n        return { 'invalidAutocompleteObject': { value: control.value } }\r\n      }\r\n      return null  /* valid option selected */\r\n    }\r\n  }\r\n  ////\r\n}\r\n","<div class=\"content\">\r\n    <mat-card>\r\n        <ng-container *ngIf=\"mostrar; then muestra; else oculto\"></ng-container>\r\n        <ng-template #muestra>\r\n            <form [formGroup]=\"formAdd\" (ngSubmit)=\"onSubmit()\">\r\n                <mat-form-field class=\"attribute\">\r\n                    <mat-label>Si corresponde Característica a la que pertenece</mat-label>\r\n                    <mat-select formControlName=\"attribute_id\">\r\n                        <mat-option>Ningúna</mat-option>\r\n                        <mat-option *ngFor=\"let option of attributes\" [value]=\"option.id\">{{ option.name }}</mat-option>\r\n                    </mat-select>\r\n                </mat-form-field>\r\n                <mat-form-field class=\"add\">\r\n                    <input formControlName=\"name\" matInput placeholder=\"Nueva Característica\">\r\n                </mat-form-field>\r\n               \r\n                <button class=\"btn\" [disabled]=\"!formAdd.valid\" type=\"submit\" mat-button >Agregar</button>\r\n            </form>\r\n        </ng-template>\r\n        <ng-template #oculto>\r\n            <button class=\"btn\" mat-mini-fab aria-label=\"Agregar Nuevo\"\r\n            (click)=\"mostrar = !mostrar\">\r\n                <mat-icon>add</mat-icon>\r\n            </button>\r\n        </ng-template>\r\n\r\n        <mat-form-field>\r\n            <input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filtrar\">\r\n        </mat-form-field>\r\n\r\n        <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\">\r\n\r\n            <!-- ID Column -->\r\n            <ng-container matColumnDef=\"id\">\r\n                <th mat-header-cell *matHeaderCellDef> ID </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.id}} </td>\r\n            </ng-container>\r\n\r\n            <!-- name Column -->\r\n            <ng-container matColumnDef=\"name\">\r\n                <th mat-header-cell *matHeaderCellDef> Nombre </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.name}} </td>\r\n            </ng-container>\r\n\r\n            \r\n            <ng-container matColumnDef=\"depend\" >\r\n                <th mat-header-cell *matHeaderCellDef> Corresponde a </th>\r\n                <td mat-cell *matCellDef=\"let element\"> \r\n                    <ng-container *ngIf=\"element.attribute; else elseTemplate\">\r\n                        {{element.attribute.name}} \r\n                    </ng-container>\r\n                    <ng-template #elseTemplate>\r\n                        N/A\r\n                    </ng-template>\r\n                </td>\r\n            </ng-container>\r\n\r\n            <ng-container matColumnDef=\"acciones\">\r\n                <th mat-header-cell *matHeaderCellDef> Accioes </th>\r\n                <td class=\"acciones\" mat-cell *matCellDef=\"let element\">\r\n                    <button mat-icon-button color=\"warn\" \r\n                    aria-label=\"Eliminar Registro\"\r\n                    (click)=\"deleteReg(element.id)\">\r\n                        <mat-icon>delete</mat-icon>\r\n                    </button>\r\n                </td>\r\n            </ng-container>\r\n            <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n            <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n        </table>\r\n        <mat-paginator [pageSizeOptions]=\"[20,50,100]\" showFirstLastButtons></mat-paginator>\r\n    </mat-card>\r\n</div>","<div class=\"content\">\r\n    <mat-card>\r\n        <ng-container *ngIf=\"mostrar; then muestra; else oculto\"></ng-container>\r\n        <ng-template #muestra>\r\n            <form [formGroup]=\"formAdd\" (ngSubmit)=\"onSubmit()\">\r\n                <mat-form-field class=\"add\">\r\n                    <input formControlName=\"name\" matInput placeholder=\"Nueva Característica Extra\">\r\n                </mat-form-field>\r\n               \r\n                <button class=\"btn\" [disabled]=\"!formAdd.valid\" type=\"submit\" mat-button >Agregar</button>\r\n            </form>\r\n        </ng-template>\r\n        <ng-template #oculto>\r\n            <button class=\"btn\" mat-mini-fab aria-label=\"Agregar Nuevo\"\r\n            (click)=\"mostrar = !mostrar\">\r\n                <mat-icon>add</mat-icon>\r\n            </button>\r\n        </ng-template>\r\n\r\n        <mat-form-field>\r\n            <input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filtrar\">\r\n        </mat-form-field>\r\n\r\n        <table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\">\r\n\r\n            <!-- ID Column -->\r\n            <ng-container matColumnDef=\"id\">\r\n                <th mat-header-cell *matHeaderCellDef> ID </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.id}} </td>\r\n            </ng-container>\r\n\r\n            <!-- name Column -->\r\n            <ng-container matColumnDef=\"name\">\r\n                <th mat-header-cell *matHeaderCellDef> Nombre </th>\r\n                <td mat-cell *matCellDef=\"let element\"> {{element.name}} </td>\r\n            </ng-container>\r\n\r\n\r\n            <ng-container matColumnDef=\"acciones\">\r\n                <th mat-header-cell *matHeaderCellDef> Accioes </th>\r\n                <td class=\"acciones\" mat-cell *matCellDef=\"let element\">\r\n                    <button mat-icon-button color=\"warn\" \r\n                    aria-label=\"Eliminar Registro\"\r\n                    (click)=\"deleteReg(element.id)\">\r\n                        <mat-icon>delete</mat-icon>\r\n                    </button>\r\n                </td>\r\n            </ng-container>\r\n            <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n            <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n        </table>\r\n        <mat-paginator [pageSizeOptions]=\"[20,50,100]\" showFirstLastButtons></mat-paginator>\r\n    </mat-card>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { TipoVehicleComponent } from './tipo-vehicle/tipo-vehicle.component';\r\nimport { ModelsComponent } from './models-vehicles/models.component';\r\nimport { BrandsComponent } from './brands/brands.component';\r\nimport { SubmodelComponent } from './submodel/submodel.component';\r\nimport { AttributesComponent } from './attributes/attributes.component';\r\nimport { ExtrasComponent } from './extras/extras.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'tipo-vehiculo',\r\n    component: TipoVehicleComponent\r\n  },\r\n  {\r\n    path: 'marcas',\r\n    component: BrandsComponent\r\n  },\r\n  {\r\n    path: 'modelos',\r\n    component: ModelsComponent\r\n  },\r\n  {\r\n    path: 'sub-modelos',\r\n    component: SubmodelComponent\r\n  },\r\n  {\r\n    path: 'atributos',\r\n    component: AttributesComponent\r\n  },\r\n  {\r\n    path: 'extras',\r\n    component: ExtrasComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class SettingApiRoutingModule { }\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { environment } from 'src/environments/environment';\r\nimport { SettingApiService } from '../services/setting-api.service';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { Attributes } from 'src/app/interfaces/product';\r\n\r\n@Component({\r\n  selector: 'app-attributes',\r\n  templateUrl: './attributes.component.html',\r\n  styleUrls: ['./attributes.component.scss']\r\n})\r\nexport class AttributesComponent implements OnInit {\r\n\r\n  displayedColumns: string[] = ['id', 'name', 'depend', 'acciones' ];\r\n  dataSource: any;\r\n  formAdd : FormGroup\r\n  mostrar :boolean = false;\r\n  selectedImage: FileList;\r\n  attributes: Attributes[];\r\n\r\n  @ViewChild(MatPaginator, {static: true}) paginator: MatPaginator;\r\n\r\n  constructor(\r\n    private _settingsService: SettingApiService,\r\n    private fb: FormBuilder,\r\n    private _snackBar: MatSnackBar\r\n  ) { }\r\n\r\n\r\n  ngOnInit() {\r\n    this.getAttributes();\r\n    this.createForm();\r\n  }\r\n\r\n  createForm(){\r\n    this.formAdd = this.fb.group({\r\n      attribute_id: [null],\r\n      name: [null, Validators.required],\r\n    })\r\n  }\r\n  getAttributes(){\r\n    this._settingsService.getAttributes().subscribe(\r\n      (res:any) => {\r\n        this.attributes = res.reverse();\r\n        console.log(this.attributes);\r\n        \r\n        this.dataSource = new MatTableDataSource(this.attributes);\r\n        this.dataSource.paginator = this.paginator;\r\n      }\r\n    );\r\n  }\r\n  \r\n  onSubmit(){\r\n    this.addAttribute();\r\n  }\r\n\r\n  addAttribute(){\r\n    const data = this.formAdd.value;\r\n        \r\n    this._settingsService.addAttribute(data).subscribe(\r\n      res => {\r\n        console.log(res);\r\n        this._settingsService.openSnackBar('success', `Atributo ${res.name} creado con éxito!!`)\r\n        this.getAttributes()\r\n        this.formAdd.reset();\r\n        this.mostrar = false;\r\n      },\r\n      err => {\r\n        console.log(err);\r\n        \r\n        this._settingsService.openSnackBar('error', `${err}`)\r\n      },\r\n    )\r\n  }\r\n\r\n  deleteReg(id:number){\r\n    this._settingsService.deleteAttribute(id).subscribe(\r\n      res => {\r\n        this._settingsService.openSnackBar('success', `Atributo \"${res.name}\" eliminado con éxito!!`)\r\n        this.getAttributes()\r\n        this.formAdd.reset();\r\n        this.mostrar = false;\r\n      },\r\n      err =>{\r\n        this._settingsService.openSnackBar('success', err)\r\n\r\n      }\r\n    )\r\n  }\r\n  applyFilter(filterValue: string) {\r\n    this.dataSource.filter = filterValue.trim().toLowerCase();\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { Extras } from 'src/app/interfaces/product';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { SettingApiService } from '../services/setting-api.service';\r\n\r\n@Component({\r\n  selector: 'app-extras',\r\n  templateUrl: './extras.component.html',\r\n  styleUrls: ['./extras.component.scss']\r\n})\r\nexport class ExtrasComponent implements OnInit {\r\n  displayedColumns: string[] = ['id', 'name', 'acciones' ];\r\n  dataSource: any;\r\n  formAdd : FormGroup\r\n  mostrar :boolean = false;\r\n  selectedImage: FileList;\r\n  extras: Extras[];\r\n\r\n  @ViewChild(MatPaginator, {static: true}) paginator: MatPaginator;\r\n\r\n  constructor(\r\n    private _settingsService: SettingApiService,\r\n    private fb: FormBuilder,\r\n    private _snackBar: MatSnackBar\r\n  ) { }\r\n\r\n\r\n  ngOnInit() {\r\n    this.getExtras();\r\n    this.createForm();\r\n  }\r\n\r\n  createForm(){\r\n    this.formAdd = this.fb.group({\r\n      name: [null, Validators.required],\r\n    })\r\n  }\r\n  getExtras(){\r\n    this._settingsService.getExtras().subscribe(\r\n      (res:any) => {\r\n        this.extras = res.reverse();\r\n        \r\n        this.dataSource = new MatTableDataSource(this.extras);\r\n        this.dataSource.paginator = this.paginator;\r\n      }\r\n    );\r\n  }\r\n  \r\n  onSubmit(){\r\n    this.addExtra();\r\n  }\r\n\r\n  addExtra(){\r\n    const data = this.formAdd.value;\r\n        \r\n    this._settingsService.addExtra(data).subscribe(\r\n      res => {\r\n        console.log(res);\r\n        this._settingsService.openSnackBar('success', `Caracteristica extra ${res.name} creado con éxito!!`)\r\n        this.getExtras()\r\n        this.formAdd.reset();\r\n        this.mostrar = false;\r\n      },\r\n      err => {\r\n        console.log(err);\r\n        \r\n        this._settingsService.openSnackBar('error', `${err}`)\r\n      },\r\n    )\r\n  }\r\n\r\n  deleteReg(id:number){\r\n    this._settingsService.deleteExtra(id).subscribe(\r\n      res => {\r\n        this._settingsService.openSnackBar('success', `Caracteristica extra \"${res.name}\" eliminado con éxito!!`)\r\n        this.getExtras()\r\n        this.formAdd.reset();\r\n        this.mostrar = false;\r\n      },\r\n      err =>{\r\n        this._settingsService.openSnackBar('success', err)\r\n\r\n      }\r\n    )\r\n  }\r\n  applyFilter(filterValue: string) {\r\n    this.dataSource.filter = filterValue.trim().toLowerCase();\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { SettingApiRoutingModule } from './setting-api-routing.module';\r\nimport { TipoVehicleComponent } from './tipo-vehicle/tipo-vehicle.component';\r\nimport { BrandsComponent } from './brands/brands.component';\r\nimport { ModelsComponent } from './models-vehicles/models.component';\r\nimport { SubmodelComponent } from './submodel/submodel.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { SharedModule } from 'src/app/shared/shared.module';\r\nimport { AttributesComponent } from './attributes/attributes.component';\r\nimport { ExtrasComponent } from './extras/extras.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TipoVehicleComponent, \r\n    BrandsComponent, \r\n    ModelsComponent, \r\n    SubmodelComponent, AttributesComponent, ExtrasComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    SettingApiRoutingModule,\r\n    ReactiveFormsModule,\r\n    SharedModule\r\n  ]\r\n})\r\nexport class SettingApiModule { }\r\n"]}